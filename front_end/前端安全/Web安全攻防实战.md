# Web 安全攻防实战

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [Web 安全攻防实战](#web安全攻防实战)
  - [一. 基础](#一-基础)
  - [二. 后端安全](#二-后端安全)
  - [三. 框架安全和前段安全](#三-框架安全和前段安全)
  - [四. 容器安全和语言安全](#四-容器安全和语言安全)
  - [五. Web 安全运营](#五-web-安全运营)

<!-- /code_chunk_output -->

## 一. 基础

### 1.1 常见的 Web 安全漏洞

- **客户端脚本安全**

  - 浏览器安全
  - 跨站脚本攻击（XSS）
    - 反射型
    - 存储型
    - DOM 型
  - 跨站请求伪造（CSRF）
  - 点击劫持（Click Jacking）
  - 网页钓鱼

- **服务器端应用安全**

  - 认证与会话管理
  - 访问控制
  - 加密算法安全
  - SQL 注入攻击
    - GET 注入
    - POST 注入
    - HTTP 头注入
  - 文件上传漏洞
  - Web 框架漏洞
  - 拒绝服务攻击（应用层 传输层）
  - 开发语言安全
    - 文件包含漏洞
    - 变量覆盖漏洞
    - 代码执行漏洞
  - Web Server 配置安全 ———— 远程命令执行

- **业务逻辑安全**

Web 安全问题本质是信任问题，换句话说就是来自前端的输入时不可信的。

### 1.2 Web 渗透工具入门

#### 1.2.1 客户端工具：Burp Suite、cURL、Postman

- **Burp Suite**

  是用于攻击 Web 应用程序的集成平台框架。它包含了许多 WEB 安全相关工具，也同时设计了接口，满足了安全人员自行拓展程序功能的需求。

  Burp 主要功能：

  - Proxy：是一个拦截 HTTP/S 的代理服务器，作为一个在浏览器和目标应用程序之间的中间人，允许拦截，查看，修改在两个方向上的原始数据流。

  - Intruder：是一个定制的高度可配置的工具，对 web 应用程序进行自动化攻击，如：枚举标识符，收集有用的数据，以及使用 fuzzing 技术探测常规漏洞。

  - Repeater：是一个靠手动操作来补发单独的 HTTP 请求，并分析应用程序响应的工具。

  - Sequencer：是一个用来分析那些不可预知的应用程序会话令牌和重要数据项的随机性的工具。

  - Decoder：是一个进行手动执行或对应用程序数据智能解码编码的工具。

  - comparer：是一个实用的工具，通常是通过一些相关的请求和响应得到两项数据的一个可视化的 “差异”。

- **cURL**

  是一个功能强大灵活的网络工具，使用 url 的形式传输数据，支持 HTTPS、IMAP、POP3、RTSP、SCP、 FTP、FTPS、TFTP、SMTP 以及 SMB、Telnet 等协议。多用于抓取网页、网络监控等方面，解决开发及调试中遇到的问题。

  ```sh
  curl ifconfig.co
  180.171.244.154
  ```

  curl 主要参数：

  - `-A`：指定客户端的用户代理标头，即 User-Agent
  - `-F`：用来向服务器上传二进制文件
  - `-b`：用来向服务器发送 Cookie
  - `-G`：用来构造 URL 的查询字符串
  - `-c`：参数将服务器设置的 Cookie 写入一个文件。
  - `-H`：参数添加 HTTP 请求的标头
  - `-d`：参数用于发送 POST 请求的数据体
  - `-e`：参数用来设置 HTTP 的标头 Referer，表示请求的来源

- **Postman**

  Postman 是一款功能强大的网页调试与发送网页 HTTP 请求的工具。不仅可以调试简单的 CSS、HTML、脚本等简单的网页基本信息，它还可以发送几乎所有类型的 HTTP 请求。是可视化版本的 curl，使用非常傻瓜。

#### 1.2.2 浏览器插件：Wappalyzer、HackBar

- **Wappalyzer**

  是一款功能强大的网站技术分析插件，能够了解到目标网站所曹勇的平台架构、网站环境、服务器配置环境、JS 框架以及编程语言等。

- **HackBar**

  Firefox 浏览器插件，包含一些常用的工具。（SQL injection、XSS、加密等），可以利用它，快速构建一个 HTTP 请求，或者用它快速实现某种算法等，多用于手工测试 Web 漏洞。

## 二. 后端安全

### 2.1 文件上传漏洞

文件上传（File Upload）是大部分 Web 应用都具备的功能，例如用户上传附件、改头像、分享图片等。

文件上传漏洞是在开发者没有做充足验证（包括前端，后端）情况下，允许用户上传恶意文件，这里上传的文件可以是木马、病毒、恶意脚本或者 Webshell 等。

## 三. 框架安全和前段安全

## 四. 容器安全和语言安全

## 五. Web 安全运营
