# 微信小程序组件

<!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [微信小程序组件](#微信小程序组件)
  - [一. 视图容器](#一-视图容器)
    - [1.1 cover-image (覆盖在原生组件之上的图片视图)](#11-cover-image-覆盖在原生组件之上的图片视图)
    - [1.2 cover-view (覆盖在原生组件之上的文本视图)](#12-cover-view-覆盖在原生组件之上的文本视图)
    - [1.3 match-media (匹配检测节点)](#13-match-media-匹配检测节点)
    - [1.4 movable-area (movable-view 的可移动区域)](#14-movable-area-movable-view-的可移动区域)
    - [1.5 movable-view (可移动的视图容器，在页面中可以拖拽滑动)](#15-movable-view-可移动的视图容器在页面中可以拖拽滑动)
    - [1.6 scroll-view (可滚动视图区域)](#16-scroll-view-可滚动视图区域)
    - [1.7 swiper (滑块视图容器)](#17-swiper-滑块视图容器)
    - [1.8 swiper-item (仅可放置在 swiper 组件中，宽高自动设置为 100%)](#18-swiper-item-仅可放置在-swiper-组件中宽高自动设置为-100)
    - [1.9 view (视图容器)](#19-view-视图容器)
  - [二. 基础内容](#二-基础内容)
    - [2.1 icon (图标)](#21-icon-图标)
    - [2.2 progress (进度条)](#22-progress-进度条)
    - [2.3 rich-text (富文本)](#23-rich-text-富文本)
    - [2.4 text](#24-text)
  - [三. 表单组件](#三-表单组件)
    - [3.1 button](#31-button)
    - [3.2 checkbox](#32-checkbox)
    - [3.3 checkbox-group](#33-checkbox-group)
    - [3.4 editor (富文本编辑器，可以对图片、文字进行编辑)](#34-editor-富文本编辑器可以对图片-文字进行编辑)
    - [3.5 form](#35-form)
    - [3.6 input](#36-input)
    - [3.7 label](#37-label)
    - [3.8 picker (从底部弹起的滚动选择器)](#38-picker-从底部弹起的滚动选择器)
    - [3.9 picker-view (嵌入页面的滚动选择器)](#39-picker-view-嵌入页面的滚动选择器)
    - [3.10 picker-view-column (滚动选择器子项)](#310-picker-view-column-滚动选择器子项)
    - [3.11 radio](#311-radio)
    - [3.12 radio-group](#312-radio-group)
    - [3.13 switch (开关选择器)](#313-switch-开关选择器)
    - [3.14 textarea](#314-textarea)
  - [四. 导航](#四-导航)
    - [4.1 functional-page-navigator (仅在插件中有效，用于跳转到插件功能页)](#41-functional-page-navigator-仅在插件中有效用于跳转到插件功能页)
    - [4.2 navigator](#42-navigator)
  - [五. 媒体组件](#五-媒体组件)
    - [5.1 audio](#51-audio)
    - [5.2 camera](#52-camera)
    - [5.3 image](#53-image)
    - [5.4 live-player (实时音视频播放)](#54-live-player-实时音视频播放)
    - [5.5 live-pusher (实时音视频录制)](#55-live-pusher-实时音视频录制)
    - [5.6 video](#56-video)
    - [5.7 voip-room (多人音视频对话)](#57-voip-room-多人音视频对话)
  - [六. 地图](#六-地图)
    - [6.1 map](#61-map)
  - [七. 画布](#七-画布)
    - [7.1 canvas](#71-canvas)
  - [八. 开放能力](#八-开放能力)
    - [8.1 ad (Banner 广告)](#81-ad-banner-广告)
    - [8.2 ad-custom (原生模板 广告)](#82-ad-custom-原生模板-广告)
    - [8.3 official-account (公众号关注组件)](#83-official-account-公众号关注组件)
    - [8.4 open-data (用于展示微信开放的数据)](#84-open-data-用于展示微信开放的数据)
    - [8.5 web-view (承载网页的容器)](#85-web-view-承载网页的容器)
  - [九. 原生组件说明](#九-原生组件说明)
  - [十. 无障碍访问](#十-无障碍访问)
  - [十一. 导航栏](#十一-导航栏)
    - [11.1 navigation-bar (页面导航条配置节点)](#111-navigation-bar-页面导航条配置节点)
  - [十二. 页面属性配置节点](#十二-页面属性配置节点)
    - [12.1 page-meta (页面属性配置节点，用于指定页面的一些属性、监听页面事件)](#121-page-meta-页面属性配置节点用于指定页面的一些属性-监听页面事件)

<!-- /code_chunk_output -->

## 一. 视图容器

### 1.1 cover-image (覆盖在原生组件之上的图片视图)

> 基础库 1.4.0 开始支持，低版本需做兼容处理。

覆盖在原生组件之上的图片视图。可覆盖的原生组件同 cover-view，支持嵌套在 cover-view 里。

| 属性      | 类型        | 必填 | 说明                                                                          | 最低版本 |
| --------- | ----------- | ---- | ----------------------------------------------------------------------------- | -------- |
| src       | String      | 否   | 图标路径，支持临时路径、网络地址（1.6.0 起支持）、云文件 ID（2.2.3 起支持）。 | 1.4.0    |
| bindload  | eventHandle | 否   | 图片加载成功时触发                                                            | 2.1.0    |
| binderror | eventHandle | 否   | 图片加载失败时触发                                                            | 2.1.0    |

**支持的格式**:

| 格式   | iOS | Android |
| ------ | --- | ------- |
| JPG    | √   | √       |
| PNG    | √   | √       |
| SVG    | x   | x       |
| WEBP   | √   | √       |
| GIF    | √   | √       |
| BASE64 | x   | x       |

### 1.2 cover-view (覆盖在原生组件之上的文本视图)

> 基础库 1.4.0 开始支持，低版本需做兼容处理。

覆盖在原生组件之上的文本视图。

可覆盖的原生组件包括 map、video、canvas、camera、live-player、live-pusher

只支持嵌套 cover-view、cover-image，可在 cover-view 中使用 button。组件属性的长度单位默认为 px，2.4.0 起支持传入单位(rpx/px)。

| 属性       | 类型          | 必填 | 说明 | 最低版本                                                             |
| ---------- | ------------- | ---- | ---- | -------------------------------------------------------------------- | ----- |
| scroll-top | Number/String | -    | 否   | 设置顶部滚动偏移量，仅在设置了 overflow-y: scroll 成为滚动元素后生效 | 2.1.0 |

> 注意：
>
> 1. cover-view 和 cover-image 的 aria-role 仅可设置为 button，读屏模式下才可以点击，并朗读出“按钮”；为空时可以聚焦，但不可点击
> 2. 基础库 2.2.4 起支持 touch 相关事件，也可使用 hover-class 设置点击态
> 3. 基础库 2.1.0 起支持设置 scale rotate 的 css 样式，包括 transition 动画
> 4. 基础库 1.9.90 起 cover-view 支持 overflow: scroll，但不支持动态更新 overflow
> 5. 基础库 1.9.90 起最外层 cover-view 支持 position: fixed
> 6. 基础库 1.9.0 起支持插在 view 等标签下。在此之前只可嵌套在原生组件 map、video、canvas、camera 内，避免嵌套在其他组件内。
> 7. 基础库 1.6.0 起支持 css transition 动画，transition-property 只支持 transform (translateX, translateY)与 opacity。
> 8. 基础库 1.6.0 起支持 css opacity。
> 9. 事件模型遵循冒泡模型，但不会冒泡到原生组件。
> 10. 文本建议都套上 cover-view 标签，避免排版错误。
> 11. 只支持基本的定位、布局、文本样式。不支持设置单边的 border、background-image、shadow、overflow: visible 等。
> 12. 建议子节点不要溢出父节点
> 13. 支持使用 z-index 控制层级
> 14. 默认设置的样式有：white-space: nowrap; line-height: 1.2; display: block;
> 15. **bug** : 自定义组件嵌套 cover-view 时，自定义组件的 slot 及其父节点暂不支持通过 wx:if 控制显隐，否则会导致 cover-view 不显示

### 1.3 match-media (匹配检测节点)

> 基础库 2.11.1 开始支持，低版本需做兼容处理。

media query 匹配检测节点。可以指定一组 media query 规则，满足时，这个节点才会被展示。

通过这个节点可以实现“页面宽高在某个范围时才展示某个区域”这样的效果。

| 属性        | 类型   | 必填 | 说明                                | 最低版本 |
| ----------- | ------ | ---- | ----------------------------------- | -------- |
| min-width   | Number | 否   | 页面最小宽度（ px 为单位）          | 2.11.1   |
| max-width   | Number | 否   | 页面最大宽度（ px 为单位）          | 2.11.1   |
| width       | Number | 否   | 页面宽度（ px 为单位）              | 2.11.1   |
| min-height  | Number | 否   | 页面最小高度（ px 为单位）          | 2.11.1   |
| max-height  | Number | 否   | 页面最大高度（ px 为单位）          | 2.11.1   |
| height      | Number | 否   | 页面高度（ px 为单位）              | 2.11.1   |
| orientation | String | 否   | 屏幕方向（ landscape 或 portrait ） | 2.11.1   |

```wxml
<match-media min-width="300" max-width="600">
  <view>当页面宽度在 300 ~ 500 px 之间时展示这里</view>
</match-media>

<match-media min-height="400" orientation="landscape">
  <view>当页面高度不小于 400 px 且屏幕方向为纵向时展示这里</view>
</match-media>
```

### 1.4 movable-area (movable-view 的可移动区域)

> 基础库 1.2.0 开始支持，低版本需做兼容处理。

movable-view 的可移动区域。

| 属性       | 类型    | 默认值 | 必填 | 说明                                                                                            | 最低版本 |
| ---------- | ------- | ------ | ---- | ----------------------------------------------------------------------------------------------- | -------- |
| scale-area | Boolean | false  | 否   | 当里面的 movable-view 设置为支持双指缩放时，设置此值可将缩放手势生效区域修改为整个 movable-area | 1.9.90   |

> 注意:
>
> 1. movable-area 必须设置 width 和 height 属性，不设置默认为 10px
> 2. 当 movable-view 小于 movable-area 时，movable-view 的移动范围是在 movable-area 内
> 3. 当 movable-view 大于 movable-area 时，movable-view 的移动范围必须包含 movable-area（x 轴方向和 y 轴方向分开考虑）

### 1.5 movable-view (可移动的视图容器，在页面中可以拖拽滑动)

> 基础库 1.2.0 开始支持，低版本需做兼容处理。

可移动的视图容器，在页面中可以拖拽滑动。movable-view 必须在 movable-area 组件中，并且必须是直接子节点，否则不能移动。

| 属性          | 类型        | 默认值 | 必填 | 说明                                                                                               | 最低版本 |
| ------------- | ----------- | ------ | ---- | -------------------------------------------------------------------------------------------------- | -------- |
| direction     | String      | none   | 否   | movable-view 的移动方向，属性值有 all、vertical、horizontal、none                                  | 1.2.0    |
| inertia       | Boolean     | false  | 否   | movable-view 是否带有惯性                                                                          | 1.2.0    |
| out-of-bounds | Boolean     | false  | 否   | 超过可移动区域后，movable-view 是否还可以移动                                                      | 1.2.0    |
| x             | Number      | -      | 否   | 定义 x 轴方向的偏移，如果 x 的值不在可移动范围内，会自动移动到可移动范围；改变 x 的值会触发动画    | 1.2.0    |
| y             | Number      | -      | 否   | 定义 y 轴方向的偏移，如果 y 的值不在可移动范围内，会自动移动到可移动范围；改变 y 的值会触发动画    | 1.2.0    |
| damping       | Number      | 20     | 否   | 阻尼系数，用于控制 x 或 y 改变时的动画和过界回弹的动画，值越大移动越快                             | 1.2.0    |
| friction      | Number      | 2      | 否   | 摩擦系数，用于控制惯性滑动的动画，值越大摩擦力越大，滑动越快停止；必须大于 0，否则会被设置成默认值 | 1.2.0    |
| disabled      | Boolean     | false  | 否   | 是否禁用                                                                                           | 1.9.90   |
| scale         | Boolean     | false  | 否   | 是否支持双指缩放，默认缩放手势生效区域是在 movable-view 内                                         | 1.9.90   |
| scale-min     | Number      | 0.5    | 否   | 定义缩放倍数最小值                                                                                 | 1.9.90   |
| scale-max     | Number      | 10     | 否   | 定义缩放倍数最大值                                                                                 | 1.9.90   |
| scale-value   | Number      | 1      | 否   | 定义缩放倍数，取值范围为 0.5 - 10                                                                  | 1.9.90   |
| animation     | Boolean     | true   | 否   | 是否使用动画                                                                                       | 2.1.0    |
| bindchange    | eventHandle | -      | 否   | 拖动过程中触发的事件，event.detail = {x, y, source}                                                | 1.9.90   |
| bindscale     | eventHandle | -      | 否   | 缩放过程中触发的事件，event.detail = {x, y, scale}，x 和 y 字段在 2.1.0 之后支持                   | 1.9.90   |
| htouchmove    | eventHandle | -      | 否   | 初次手指触摸后移动为横向的移动时触发，如果 catch 此事件，则意味着 touchmove 事件也被 catch         | 1.9.90   |
| vtouchmove    | eventHandle | -      | 否   | 初次手指触摸后移动为纵向的移动时触发，如果 catch 此事件，则意味着 touchmove 事件也被 catch         | 1.9.90   |

`bindchange` 返回的 `source` 表示产生移动的原因

| 值                  | 说明                 |
| ------------------- | -------------------- |
| touch               | 拖动                 |
| touch-out-of-bounds | 超出移动范围         |
| out-of-bounds       | 超出移动范围后的回弹 |
| friction            | 惯性                 |
| 空字符串            | setData              |

> 注意：
>
> 1. movable-view 必须设置 width 和 height 属性，不设置默认为 10px
> 2. movable-view 默认为绝对定位，top 和 left 属性为 0px

### 1.6 scroll-view (可滚动视图区域)

> 基础库 1.0.0 开始支持。

可滚动视图区域。使用竖向滚动时，需要给 scroll-view 一个固定高度，通过 WXSS 设置 height。组件属性的长度单位默认为 px，2.4.0 起支持传入单位(rpx/px)。

| 属性                    | 类型          | 默认值  | 必填 | 说明                                                                                                                   | 最低版本 |
| ----------------------- | ------------- | ------- | ---- | ---------------------------------------------------------------------------------------------------------------------- | -------- | ------------------------------ | ------ |
| scroll-x                | Boolean       | false   | 否   | 允许横向滚动                                                                                                           | 1.0.0    |
| scroll-y                | Boolean       | false   | 否   | 允许纵向滚动                                                                                                           | 1.0.0    |
| upper-threshold         | Number/String | 50      | 否   | 距顶部/左边多远时，触发 scrolltoupper 事件                                                                             | 1.0.0    |
| lower-threshold         | Number/String | 50      | 否   | 距底部/右边多远时，触发 scrolltolower 事件                                                                             | 1.0.0    |
| scroll-top              | Number/String | -       | 否   | 设置竖向滚动条位置                                                                                                     | 1.0.0    |
| scroll-left             | Number/String | -       | 否   | 设置横向滚动条位置                                                                                                     | 1.0.0    |
| scroll-into-view        | String        | -       | 否   | 值应为某子元素 id（id 不能以数字开头）。设置哪个方向可滚动，则在哪个方向滚动到该元素                                   | 1.0.0    |
| scroll-with-animation   | Boolean       | false   | 否   | 在设置滚动条位置时使用动画过渡                                                                                         | 1.0.0    |
| enable-back-to-top      | Boolean       | false   | 否   | iOS 点击顶部状态栏、安卓双击标题栏时，滚动条返回顶部，只支持竖向                                                       | 1.0.0    |
| enable-flex             | Boolean       | false   | 否   | 启用 flexBox 布局。开启后，当前节点声明了 display: flex 就会成为 flex container，并作用于其孩子节点。                  | 2.7.3    |
| scroll-anchoring        | Boolean       | false   | 否   | 开启 scroll anchoring 特性，即控制滚动位置不随内容变化而抖动，仅在 iOS 下生效，安卓下可参考 CSS overflow-anchor 属性。 | 2.8.2    |
| refresher-enabled       | Boolean       | false   | 否   | 开启自定义下拉刷新                                                                                                     | 2.10.1   |
| refresher-threshold     | Number        | 45      | 否   | 设置自定义下拉刷新阈值                                                                                                 | 2.10.1   |
| refresher-default-style | String        | "black" | 否   | 设置自定义下拉刷新默认样式，支持设置 black                                                                             | white    | none， none 表示不使用默认样式 | 2.10.1 |
| refresher-background    | String        | "#FFF"  | 否   | 设置自定义下拉刷新区域背景颜色                                                                                         | 2.10.1   |
| refresher-triggered     | Boolean       | false   | 否   | 设置当前下拉刷新状态，true 表示下拉刷新已经被触发，false 表示下拉刷新未被触发                                          | 2.10.1   |
| enhanced                | Boolean       | false   | 否   | 启用 scroll-view 增强特性                                                                                              | 2.12.0   |
| bounces                 | Boolean       | true    | 否   | iOS 下 scroll-view 边界弹性控制 (同时开启 enhanced 属性后生效)                                                         | 2.12.0   |
| show-scrollbar          | Boolean       | true    | 否   | 滚动条显隐控制 (同时开启 enhanced 属性后生效)                                                                          | 2.12.0   |
| paging-enabled          | Boolean       | false   | 否   | 分页滑动效果 (同时开启 enhanced 属性后生效)                                                                            | 2.12.0   |
| fast-deceleration       | Boolean       | false   | 否   | 滑动减速速率控制 (同时开启 enhanced 属性后生效)                                                                        | 2.12.0   |
| binddragstart           | eventHandle   | -       | 否   | 滑动开始事件 (同时开启 enhanced 属性后生效) detail { scrollTop, scrollLeft }                                           | 2.12.0   |
| binddragging            | eventHandle   | -       | 否   | 滑动事件 (同时开启 enhanced 属性后生效) detail { scrollTop, scrollLeft }                                               | 2.12.0   |
| binddragend             | eventHandle   | -       | 否   | 滑动结束事件 (同时开启 enhanced 属性后生效) detail { scrollTop, scrollLeft, velocity }                                 | 2.12.0   |
| bindscrolltoupper       | eventHandle   | -       | 否   | 滚动到顶部/左边时触发                                                                                                  | 1.0.0    |
| bindscrolltolower       | eventHandle   | -       | 否   | 滚动到底部/右边时触发                                                                                                  | 1.0.0    |
| bindscroll              | eventHandle   | -       | 否   | 滚动时触发，event.detail = {scrollLeft, scrollTop, scrollHeight, scrollWidth, deltaX, deltaY}                          | 1.0.0    |
| bindrefresherpulling    | eventHandle   | -       | 否   | 自定义下拉刷新控件被下拉                                                                                               | 2.10.1   |
| bindrefresherrefresh    | eventHandle   | -       | 否   | 自定义下拉刷新被触发                                                                                                   | 2.10.1   |
| bindrefresherrestore    | eventHandle   | -       | 否   | 自定义下拉刷新被复位                                                                                                   | 2.10.1   |
| bindrefresherabort      | eventHandle   | -       | 否   | 自定义下拉刷新被中止                                                                                                   | 2.10.1   |

> 注意：
>
> 1. 基础库 2.4.0 以下不支持嵌套 textarea、map、canvas、video 组件
> 2. scroll-into-view 的优先级高于 scroll-top
> 3. 在滚动 scroll-view 时会阻止页面回弹，所以在 scroll-view 中滚动，是无法触发 onPullDownRefresh
> 4. 若要使用下拉刷新，请使用页面的滚动，而不是 scroll-view ，这样也能通过点击顶部状态栏回到页面顶部
> 5. scroll-view 自定义下拉刷新可以结合 WXS 事件响应 开发交互动画

### 1.7 swiper (滑块视图容器)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

滑块视图容器。其中只可放置 swiper-item 组件，否则会导致未定义的行为。

| 属性                   | 类型        | 默认值            | 必填 | 说明                                                                                                                                          | 最低版本 |
| ---------------------- | ----------- | ----------------- | ---- | --------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| indicator-dots         | Boolean     | false             | 否   | 是否显示面板指示点                                                                                                                            | 1.0.0    |
| indicator-color        | color       | rgba(0, 0, 0, .3) | 否   | 指示点颜色                                                                                                                                    | 1.1.0    |
| indicator-active-color | color       | #000000           | 否   | 当前选中的指示点颜色                                                                                                                          | 1.1.0    |
| autoplay               | Boolean     | false             | 否   | 是否自动切换                                                                                                                                  | 1.0.0    |
| current                | Number      | 0                 | 否   | 当前所在滑块的 index                                                                                                                          | 1.0.0    |
| interval               | Number      | 5000              | 否   | 自动切换时间间隔                                                                                                                              | 1.0.0    |
| duration               | Number      | 500               | 否   | 滑动动画时长                                                                                                                                  | 1.0.0    |
| circular               | Boolean     | false             | 否   | 是否采用衔接滑动                                                                                                                              | 1.0.0    |
| vertical               | Boolean     | false             | 否   | 滑动方向是否为纵向                                                                                                                            | 1.0.0    |
| previous-margin        | String      | "0px"             | 否   | 前边距，可用于露出前一项的一小部分，接受 px 和 rpx 值                                                                                         | 1.9.0    |
| next-margin            | String      | "0px"             | 否   | 后边距，可用于露出后一项的一小部分，接受 px 和 rpx 值                                                                                         | 1.9.0    |
| snap-to-edge           | Boolean     | "false"           | 否   | 当 swiper-item 的个数大于等于 2，关闭 circular 并且开启 previous-margin 或 next-margin 的时候，可以指定这个边距是否应用到第一个、最后一个元素 | 2.12.1   |
| display-multiple-items | Number      | 1                 | 否   | 同时显示的滑块数量                                                                                                                            | 1.9.0    |
| easing-function        | String      | "default"         | 否   | 指定 swiper 切换缓动动画类型                                                                                                                  | 2.6.5    |
| bindchange             | eventHandle | -                 | 否   | current 改变时会触发 change 事件，event.detail = {current, source}                                                                            | 1.0.0    |
| bindtransition         | eventHandle | -                 | 否   | swiper-item 的位置发生改变时会触发 transition 事件，event.detail = {dx: dx, dy: dy}                                                           | 2.4.3    |
| bindanimationfinish    | eventHandle | -                 | 否   | 动画结束时会触发 animationFinish 事件，event.detail 同上                                                                                      | 1.9.0    |

**easing-function 的合法值**:

| 值             | 说明         |
| -------------- | ------------ |
| default        | 默认缓动函数 |
| linear         | 线性动画     |
| easeInCubic    | 缓入动画     |
| easeOutCubic   | 缓出动画     |
| easeInOutCubic | 缓入缓出动画 |

**change 事件 source 返回值**
从 1.4.0 开始，change 事件增加 source 字段，表示导致变更的原因，可能值如下：

1. autoplay 自动播放导致 swiper 变化；
2. touch 用户划动引起 swiper 变化；
3. 其它原因将用空字符串表示。

> 注意 : 如果在 bindchange 的事件回调函数中使用 setData 改变 current 值，则有可能导致 setData 被不停地调用，因而通常情况下请在改变 current 值前检测 source 字段来判断是否是由于用户触摸引起。

### 1.8 swiper-item (仅可放置在 swiper 组件中，宽高自动设置为 100%)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

仅可放置在 swiper 组件中，宽高自动设置为 100%。

| 属性                    | 类型    | 默认值 | 必填 | 说明                                                                                           | 最低版本 |
| ----------------------- | ------- | ------ | ---- | ---------------------------------------------------------------------------------------------- | -------- |
| item-id                 | String  | -      | 否   | 该 swiper-item 的标识符                                                                        | 1.9.0    |
| skip-hidden-item-layout | Boolean | false  | 否   | 是否跳过未显示的滑块布局，设为 true 可优化复杂情况下的滑动性能，但会丢失隐藏状态滑块的布局信息 | 1.9.0    |

### 1.9 view (视图容器)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

| 属性                   | 类型    | 默认值 | 必填 | 说明                                                           | 最低版本 |
| ---------------------- | ------- | ------ | ---- | -------------------------------------------------------------- | -------- |
| hover-class            | String  | none   | 否   | 指定按下去的样式类。当 `hover-class="none"` 时，没有点击态效果 | 1.0.0    |
| hover-stop-propagation | Boolean | false  | 否   | 指定是否阻止本节点的祖先节点出现点击态                         | 1.5.0    |
| hover-start-time       | Number  | 50     | 否   | 按住后多久出现点击态，单位毫秒                                 | 1.0.0    |
| hover-stay-time        | Number  | 400    | 否   | 手指松开后点击态保留时间，单位毫秒                             | 1.0.0    |

> 注意 : 如果需要使用滚动视图，请使用 [scroll-view](#16-scroll-view-可滚动视图区域)

## 二. 基础内容

### 2.1 icon (图标)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

图标。组件属性的长度单位默认为 px，2.4.0 起支持传入单位(rpx/px)。

| 属性  | 类型          | 默认值 | 必填 | 说明                                                                                                  | 最低版本 |
| ----- | ------------- | ------ | ---- | ----------------------------------------------------------------------------------------------------- | -------- |
| type  | String        | -      | 是   | icon 的类型，有效值：success, success_no_circle, info, warn, waiting, cancel, download, search, clear | 1.0.0    |
| size  | Number/String | 23     | 否   | icon 的大小                                                                                           | 1.0.0    |
| color | String        | -      | 否   | icon 的颜色，同 css 的 color                                                                          | 1.0.0    |

### 2.2 progress (进度条)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

进度条。组件属性的长度单位默认为 px，2.4.0 起支持传入单位(rpx/px)。

| 属性            | 类型          | 默认值    | 必填 | 说明                                                    | 最低版本 |
| --------------- | ------------- | --------- | ---- | ------------------------------------------------------- | -------- |
| percent         | Number        | -         | 否   | 百分比 0~100                                            | 1.0.0    |
| show-info       | Boolean       | false     | 否   | 在进度条右侧显示百分比                                  | 1.0.0    |
| border-radius   | Number/String | 0         | 否   | 圆角大小                                                | 2.3.1    |
| font-size       | Number/String | 16        | 否   | 右侧百分比字体大小                                      | 2.3.1    |
| stroke-width    | Number/String | 6         | 否   | 进度条线的宽度                                          | 1.0.0    |
| color           | String        | #09BB07   | 否   | 进度条颜色（请使用 activeColor）                        | 1.0.0    |
| activeColor     | String        | #09BB07   | 否   | 已选择的进度条的颜色                                    | 1.0.0    |
| backgroundColor | String        | #EBEBEB   | 否   | 未选择的进度条的颜色                                    | 1.0.0    |
| active          | Boolean       | false     | 否   | 进度条从左往右的动画                                    | 1.0.0    |
| active-mode     | String        | backwards | 否   | backwards: 动画从头播；forwards：动画从上次结束点接着播 | 1.7.0    |
| duration        | Number        | 30        | 否   | 进度增加 1%所需毫秒数                                   | 2.8.2    |
| bindactiveend   | eventHandle   | -         | 否   | 动画完成事件                                            | 2.4.1    |

### 2.3 rich-text (富文本)

> 基础库 1.4.0 开始支持，低版本需做兼容处理。

富文本。

| 属性  | 类型         | 默认值 | 必填 | 说明                 | 最低版本 |
| ----- | ------------ | ------ | ---- | -------------------- | -------- |
| nodes | array/String | []     | 否   | 节点列表/HTML String | 1.4.0    |
| space | String       | -      | 否   | 显示连续空格         | 2.4.1    |

**space 的合法值**:

| 值   | 说明                   |
| ---- | ---------------------- |
| ensp | 中文字符空格一半大小   |
| emsp | 中文字符空格大小       |
| nbsp | 根据字体设置的空格大小 |

**nodes**
现支持两种节点，通过 `type` 来区分，分别是元素节点和文本节点，默认是元素节点，在富文本区域里显示的 HTML 节点 元素节点：type = node

| 属性     | 说明       | 类型   | 必填 | 备注                                     |
| -------- | ---------- | ------ | ---- | ---------------------------------------- |
| name     | 标签名     | String | 是   | 支持部分受信任的 HTML 节点               |
| attrs    | 属性       | object | 否   | 支持部分受信任的属性，遵循 Pascal 命名法 |
| children | 子节点列表 | array  | 否   | 结构和 nodes 一致                        |

**文本节点：type = text**:

| 属性 | 说明 | 类型   | 必填 | 备注          |
| ---- | ---- | ------ | ---- | ------------- |
| text | 文本 | String | 是   | 支持 entities |

**受信任的 HTML 节点及属性**
全局支持 class 和 style 属性，**不支持 id 属性**。
[详情查看](https://developers.weixin.qq.com/miniprogram/dev/component/rich-text.html)

> 注意：
>
> 1. nodes 不推荐使用 String 类型，性能会有所下降。
> 2. rich-text 组件内屏蔽所有节点的事件。
> 3. attrs 属性不支持 id ，支持 class 。
> 4. name 属性大小写不敏感。
> 5. 如果使用了不受信任的 HTML 节点，该节点及其所有子节点将会被移除。
> 6. img 标签仅支持网络图片。
> 7. 如果在自定义组件中使用 rich-text 组件，那么仅自定义组件的 wxss 样式对 rich-text 中的 class 生效。

### 2.4 text

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

| 属性        | 类型    | 默认值 | 必填 | 说明                                                | 最低版本 |
| ----------- | ------- | ------ | ---- | --------------------------------------------------- | -------- |
| electable   | Boolean | false  | 否   | 文本是否可选 (已废弃)                               | 1.1.0    |
| user-select | Boolean | false  | 否   | 文本是否可选，该属性会使文本节点显示为 inline-block | 2.12.1   |
| space       | String  | -      | 否   | 显示连续空格                                        | 1.4.0    |
| decode      | Boolean | false  | 否   | 是否解码                                            | 1.4.0    |

**space 的合法值**:

| 值   | 说明                   |
| ---- | ---------------------- |
| ensp | 中文字符空格一半大小   |
| emsp | 中文字符空格大小       |
| nbsp | 根据字体设置的空格大小 |

> 注意：
>
> 1. decode 可以解析的有 &nbsp; &lt; &gt; &amp; &apos; &ensp; &emsp;
> 2. 各个操作系统的空格标准并不一致。
> 3. text 组件内只支持 text 嵌套。
> 4. 除了文本节点以外的其他节点都无法长按选中。
>    bug: 基础库版本低于 2.1.0 时， text 组件内嵌的 text style 设置可能不会生效。

## 三. 表单组件

### 3.1 button

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

按钮。

| 属性                   | 类型        | 默认值       | 必填 | 说明                                                                                                                                                           | 最低版本 |
| ---------------------- | ----------- | ------------ | ---- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| size                   | String      | default      | 否   | 按钮的大小                                                                                                                                                     | 1.0.0    |
| type                   | String      | default      | 否   | 按钮的样式类型                                                                                                                                                 | 1.0.0    |
| plain                  | Boolean     | false        | 否   | 按钮是否镂空，背景色透明                                                                                                                                       | 1.0.0    |
| disabled               | Boolean     | false        | 否   | 是否禁用                                                                                                                                                       | 1.0.0    |
| loading                | Boolean     | false        | 否   | 名称前是否带 loading 图标                                                                                                                                      | 1.0.0    |
| form-type              | String      | -            | 否   | 用于 form 组件，点击分别会触发 form 组件的 submit/reset 事件                                                                                                   | 1.0.0    |
| open-type              | String      | -            | 否   | 微信开放能力                                                                                                                                                   | 1.1.0    |
| hover-class            | String      | button-hover | 否   | 指定按钮按下去的样式类。当 hover-class="none" 时，没有点击态效果                                                                                               | 1.0.0    |
| hover-stop-propagation | Boolean     | false        | 否   | 指定是否阻止本节点的祖先节点出现点击态                                                                                                                         | 1.5.0    |
| hover-start-time       | Number      | 20           | 否   | 按住后多久出现点击态，单位毫秒                                                                                                                                 | 1.0.0    |
| hover-stay-time        | Number      | 70           | 否   | 手指松开后点击态保留时间，单位毫秒                                                                                                                             | 1.0.0    |
| lang                   | String      | en           | 否   | 指定返回用户信息的语言，zh_CN 简体中文，zh_TW 繁体中文，en 英文。                                                                                              | 1.3.0    |
| session-from           | String      | -            | 否   | 会话来源，open-type="contact"时有效                                                                                                                            | 1.4.0    |
| send-message-title     | String      | 当前标题     | 否   | 会话内消息卡片标题，open-type="contact"时有效                                                                                                                  | 1.5.0    |
| send-message-path      | String      | 当前分享路径 | 否   | 会话内消息卡片点击跳转小程序路径，open-type="contact"时有效                                                                                                    | 1.5.0    |
| send-message-img       | String      | 截图         | 否   | 会话内消息卡片图片，open-type="contact"时有效                                                                                                                  | 1.5.0    |
| app-parameter          | String      | -            | 否   | 打开 APP 时，向 APP 传递的参数，open-type=launchApp 时有效                                                                                                     | 1.9.5    |
| show-message-card      | Boolean     | false        | 否   | 是否显示会话内消息卡片，设置此参数为 true，用户进入客服会话会在右下角显示"可能要发送的小程序"提示，用户点击后可以快速发送小程序消息，open-type="contact"时有效 | 1.5.0    |
| bindgetuserinfo        | eventHandle | -            | 否   | 用户点击该按钮时，会返回获取到的用户信息，回调的 detail 数据与 wx.getUserInfo 返回的一致，open-type="getUserInfo"时有效                                        | 1.3.0    |
| bindcontact            | eventHandle | -            | 否   | 客服消息回调，open-type="contact"时有效                                                                                                                        | 1.5.0    |
| bindgetphoneNumber     | eventHandle | -            | 否   | 获取用户手机号回调，open-type=getPhoneNumber 时有效                                                                                                            | 1.2.0    |
| binderror              | eventHandle | -            | 否   | 当使用开放能力时，发生错误的回调，open-type=launchApp 时有效                                                                                                   | 1.9.5    |
| bindopensetting        | eventHandle | -            | 否   | 在打开授权设置页后回调，open-type=openSetting 时有效                                                                                                           | 2.0.7    |
| bindlaunchapp          | eventHandle | -            | 否   | 打开 APP 成功的回调，open-type=launchApp 时有效                                                                                                                | 2.4.4    |

**size 的合法值**:

| 值      | 说明     |
| ------- | -------- |
| default | 默认大小 |
| mini    | 小尺寸   |

**type 的合法值**:

| 值      | 说明 |
| ------- | ---- |
| primary | 绿色 |
| default | 白色 |
| warn    | 红色 |

**form-type 的合法值**:

| 值     | 说明     |
| ------ | -------- |
| submit | 提交表单 |
| reset  | 重置表单 |

**open-type 的合法值**:

| 值             | 说明                                                                                                                           | 最低版本 |
| -------------- | ------------------------------------------------------------------------------------------------------------------------------ | -------- |
| contact        | 打开客服会话，如果用户在会话中点击消息卡片后返回小程序，可以从 bindcontact 回调中获得具体信息，具体说明 小程序插件中不能使用。 | 1.1.0    |
| share          | 触发用户转发，使用前建议先阅读使用指引                                                                                         | 1.2.0    |
| getPhoneNumber | 获取用户手机号，可以从 bindgetphonenumber 回调中获取到用户信息，具体说明 小程序插件中不能使用。                                | 1.2.0    |
| getUserInfo    | 获取用户信息，可以从 bindgetuserinfo 回调中获取到用户信息 小程序插件中不能使用。                                               | 1.3.0    |
| launchApp      | 打开 APP，可以通过 app-parameter 属性设定向 APP 传的参数具体说明                                                               | 1.9.5    |
| openSetting    | 打开授权设置页                                                                                                                 | 2.0.7    |
| feedback       | 打开“意见反馈”页面，用户可提交反馈内容并上传日志，可以登录小程序管理后台后进入左侧菜单“客服反馈”页面获取到反馈内容             | 2.1.0    |

**lang 的合法值**:

| 值    | 说明     |
| ----- | -------- |
| en    | 英文     |
| zh_CN | 简体中文 |
| zh_TW | 繁体中文 |

> 注意：
>
> 1. button-hover 默认为{background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}
> 2. bindgetphonenumber 从 1.2.0 开始支持，但是在 1.5.3 以下版本中无法使用 wx.canIUse 进行检测，建议使用基础库版本进行判断。
> 3. 在 bindgetphonenumber 等返回加密信息的回调中调用 wx.login 登录，可能会刷新登录态。此时服务器使用 code 换取的 sessionKey 不是加密时使用的 sessionKey，导致解密失败。建议提前进行 login；或者在回调中先使用 checkSession 进行登录态检查，避免 login 刷新登录态。
> 4. 从 2.1.0 起，button 可作为原生组件的子节点嵌入，以便在原生组件上使用 open-type 的能力。
> 5. 目前设置了 form-type 的 button 只会对当前组件中的 form 有效。因而，将 button 封装在自定义组件中，而 form 在自定义组件外，将会使这个 button 的 form-type 失效。

### 3.2 checkbox

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

多选项目。

| 属性     | 类型    | 默认值  | 必填 | 说明                                                                              | 最低版本 |
| -------- | ------- | ------- | ---- | --------------------------------------------------------------------------------- | -------- |
| value    | String  | -       | 否   | checkbox 标识，选中时触发 checkbox-group 的 change 事件，并携带 checkbox 的 value | 1.0.0    |
| disabled | Boolean | false   | 否   | 是否禁用                                                                          | 1.0.0    |
| checked  | Boolean | false   | 否   | 当前是否选中，可用来设置默认选中                                                  | 1.0.0    |
| color    | String  | #09BB07 | 否   | checkbox 的颜色，同 css 的 color                                                  | 1.0.0    |

### 3.3 checkbox-group

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

多项选择器，内部由多个 checkbox 组成。

| 属性       | 类型        | 必填 | 说明                                                                                                  | 最低版本 |
| ---------- | ----------- | ---- | ----------------------------------------------------------------------------------------------------- | -------- |
| bindchange | EventHandle | 否   | checkbox-group 中选中项发生改变时触发 change 事件，detail = {value:[选中的 checkbox 的 value 的数组]} | 1.0.0    |

### 3.4 editor (富文本编辑器，可以对图片、文字进行编辑)

> 基础库 2.7.0 开始支持，低版本需做兼容处理。

富文本编辑器，可以对图片、文字进行编辑。

编辑器导出内容支持带标签的 `html` 和纯文本的 `text` ，编辑器内部采用 `delta` 格式进行存储。

通过 `setContents` 接口设置内容时，解析插入的 `html` 可能会由于一些非法标签导致解析错误，建议在小程序内使用时通过 `delta` 进行插入。

富文本组件内部引入了一些基本的样式使得内容可以正确的展示，开发时可以进行覆盖。需要注意的是，在其它组件或环境中使用富文本组件导出的 html 时，需要额外引入 [这段样式](./image/editor.css)，并维护 `<ql-container><ql-editor></ql-editor></ql-container>` 的结构。

图片控件仅初始化时设置有效。

相关 api：[EditorContext](https://developers.weixin.qq.com/miniprogram/dev/api/media/editor/EditorContext.html)

| 属性             | 类型        | 默认值 | 必填 | 说明                                                          | 最低版本 |
| ---------------- | ----------- | ------ | ---- | ------------------------------------------------------------- | -------- |
| read-only        | Boolean     | false  | 否   | 设置编辑器为只读                                              | 2.7.0    |
| placeholder      | String      | -      | 否   | 提示信息                                                      | 2.7.0    |
| show-img-size    | Boolean     | false  | 否   | 点击图片时显示图片大小控件                                    | 2.7.0    |
| show-img-toolbar | Boolean     | false  | 否   | 点击图片时显示工具栏控件                                      | 2.7.0    |
| show-img-resize  | Boolean     | false  | 否   | 点击图片时显示修改尺寸控件                                    | 2.7.0    |
| bindready        | eventHandle | -      | 否   | 编辑器初始化完成时触发                                        | 2.7.0    |
| bindfocus        | eventHandle | -      | 否   | 编辑器聚焦时触发，event.detail = {html, text, delta}          | 2.7.0    |
| bindblur         | eventHandle | -      | 否   | 编辑器失去焦点时触发，detail = {html, text, delta}            | 2.7.0    |
| bindinput        | eventHandle | -      | 否   | 编辑器内容改变时触发，detail = {html, text, delta}            | 2.7.0    |
| bindstatuschange | eventHandle | -      | 否   | 通过 Context 方法改变编辑器内样式时触发，返回选区已设置的样式 | 2.7.0    |

编辑器内支持部分 HTML 标签和内联样式，不支持 class 和 id

**支持的标签**
不满足的标签会被忽略，`<div>` 会被转行为 `<p>` 储存。

| 类型     | 节点                                                                     |
| -------- | ------------------------------------------------------------------------ |
| 行内元素 | `<span> <strong> <b> <ins> <em> <i> <u> <a> <del> <s> <sub> <sup> <img>` |
| 块级元素 | `<p> <h1> <h2> <h3> <h4> <h5> <h6> <hr> <ol> <ul> <li>`                  |

**支持的内联样式**
内联样式仅能设置在行内元素或块级元素上，不能同时设置。例如 font-size 归类为行内元素属性，在 p 标签上设置是无效的。

| 类型     | 样式                                                                                                                                                                  |
| -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 块级样式 | `text-align direction margin margin-top margin-left margin-right margin-bottom padding padding-top padding-left padding-right padding-bottom line-height text-indent` |
| 行内样式 | `font font-size font-style font-variant font-weight font-family letter-spacing text-decoration color background-color`                                                |

> 注意：
>
> 1. 使用 catchtouchend 绑定事件则不会使编辑器失去焦点(2.8.3)
> 2. 插入的 html 中事件绑定会被移除
> 3. formats 中的 color 属性会统一以 hex 格式返回
> 4. 粘贴时仅纯文本内容会被拷贝进编辑器
> 5. 插入 html 到编辑器内时，编辑器会删除一些不必要的标签，以保证内容的统一。例如 `<p><span>xxx</span></p>` 会改写为 `<p>xxx</p>`
> 6. 编辑器聚焦时页面会被上推，系统行为以保证编辑区可见

### 3.5 form

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

表单。将组件内的用户输入的 switch input checkbox slider radio picker 提交。

当点击 form 表单中 `form-type` 为 `submit` 的 button 组件时，会将表单组件中的 value 值进行提交，需要在表单组件中加上 name 来作为 key。

| 属性                  | 类型        | 默认值 | 必填 | 说明                                                                                                                                                                                                                                                     | 最低版本 |
| --------------------- | ----------- | ------ | ---- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| report-submit         | Boolean     | false  | 否   | 是否返回 formId 用于发送模板消息                                                                                                                                                                                                                         | 1.0.0    |
| report-submit-timeout | Number      | 0      | 否   | 等待一段时间（毫秒数）以确认 formId 是否生效。如果未指定这个参数，formId 有很小的概率是无效的（如遇到网络失败的情况）。指定这个参数将可以检测 formId 是否有效，以这个参数的时间作为这项检测的超时时间。如果失败，将返回 requestFormId:fail 开头的 formId | 2.6.2    |
| bindsubmit            | eventHandle | -      | 否   | 携带 form 中的数据触发 submit 事件，event.detail = {value : {'name': 'value'} , formId: ''}                                                                                                                                                              | 1.0.0    |
| bindreset             | eventHandle | -      | 否   | 表单重置时会触发 reset 事件                                                                                                                                                                                                                              | 1.0.0    |

**使用内置 behaviors**
对于 form 组件，目前可以自动识别下列内置 behaviors:

- wx://form-field
  使自定义组件有类似于表单控件的行为。 form 组件可以识别这些自定义组件，并在 submit 事件中返回组件的字段名及其对应字段值。这将为它添加以下两个属性。

  | 属性名 | 类型   | 描述             | 最低版本 |
  | ------ | ------ | ---------------- | -------- |
  | name   | String | 在表单中的字段名 | 1.6.7    |
  | value  | 任意   | 在表单中的字段值 | 1.6.7    |

- wx://form-field-group
  从基础库版本 2.10.2 开始提供支持。
  使 form 组件可以识别到这个自定义组件内部的所有表单控件。

- wx://form-field-button
  从基础库版本 2.10.3 开始提供支持。
  使 form 组件可以识别到这个自定义组件内部的 button ， 如果自定义组件内部有设置了 `form-type` 的 `button` ，它将被组件外的 form 接受。

### 3.6 input

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

输入框。该组件是原生组件，使用时请注意相关限制

| 属性                     | 类型        | 默认值            | 必填 | 说明                                                                                                                                            | 最低版本 |
| ------------------------ | ----------- | ----------------- | ---- | ----------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| value                    | String      | -                 | 是   | 输入框的初始内容                                                                                                                                | 1.0.0    |
| type                     | String      | text              | 否   | input 的类型                                                                                                                                    | 1.0.0    |
| password                 | Boolean     | false             | 否   | 是否是密码类型                                                                                                                                  | 1.0.0    |
| placeholder              | String      | -                 | 是   | 输入框为空时占位符                                                                                                                              | 1.0.0    |
| placeholder-style        | String      | -                 | 是   | 指定 placeholder 的样式                                                                                                                         | 1.0.0    |
| placeholder-class        | String      | input-placeholder | 否   | 指定 placeholder 的样式类                                                                                                                       | 1.0.0    |
| disabled                 | Boolean     | false             | 否   | 是否禁用                                                                                                                                        | 1.0.0    |
| maxlength                | Number      | 140               | 否   | 最大输入长度，设置为 -1 的时候不限制最大长度                                                                                                    | 1.0.0    |
| cursor-spacing           | Number      | 0                 | 否   | 指定光标与键盘的距离，取 input 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离                                           | 1.0.0    |
| auto-focus               | Boolean     | false             | 否   | (即将废弃，请直接使用 focus )自动聚焦，拉起键盘                                                                                                 | 1.0.0    |
| focus                    | Boolean     | false             | 否   | 获取焦点                                                                                                                                        | 1.0.0    |
| confirm-type             | String      | done              | 否   | 设置键盘右下角按钮的文字，仅在 type='text'时生效                                                                                                | 1.1.0    |
| always-embed             | Boolean     | false             | 否   | 强制 input 处于同层状态，默认 focus 时 input 会切到非同层状态 (仅在 iOS 下生效)                                                                 | 2.10.4   |
| confirm-hold             | Boolean     | false             | 否   | 点击键盘右下角按钮时是否保持键盘不收起                                                                                                          | 1.1.0    |
| cursor                   | Number      | -                 | 是   | 指定 focus 时的光标位置                                                                                                                         | 1.5.0    |
| selection-start          | Number      | -1                | 否   | 光标起始位置，自动聚集时有效，需与 selection-end 搭配使用                                                                                       | 1.9.0    |
| selection-end            | Number      | -1                | 否   | 光标结束位置，自动聚集时有效，需与 selection-start 搭配使用                                                                                     | 1.9.0    |
| adjust-position          | Boolean     | true              | 否   | 键盘弹起时，是否自动上推页面                                                                                                                    | 1.9.90   |
| hold-keyboard            | Boolean     | false             | 否   | focus 时，点击页面的时候不收起键盘                                                                                                              | 2.8.2    |
| bindinput                | eventHandle | -                 | 是   | 键盘输入时触发，event.detail = {value, cursor, keyCode}，keyCode 为键值，2.1.0 起支持，处理函数可以直接 return 一个字符串，将替换输入框的内容。 | 1.0.0    |
| bindfocus                | eventHandle | -                 | 是   | 输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度，在基础库 1.9.90 起支持                                                   | 1.0.0    |
| bindblur                 | eventHandle | -                 | 是   | 输入框失去焦点时触发，event.detail = {value: value}                                                                                             | 1.0.0    |
| bindconfirm              | eventHandle | -                 | 是   | 点击完成按钮时触发，event.detail = {value: value}                                                                                               | 1.0.0    |
| bindkeyboardheightchange | eventHandle | -                 | 是   | 键盘高度发生变化的时候触发此事件，event.detail = {height: height, duration: duration}                                                           | 2.7.0    |

**type 的合法值**:

| 值     | 说明               |
| ------ | ------------------ |
| text   | 文本输入键盘       |
| number | 数字输入键盘       |
| idcard | 身份证输入键盘     |
| digit  | 带小数点的数字键盘 |

**confirm-type 的合法值**:

| 值     | 说明                 |
| ------ | -------------------- |
| send   | 右下角按钮为“发送”   |
| search | 右下角按钮为“搜索”   |
| next   | 右下角按钮为“下一个” |
| go     | 右下角按钮为“前往”   |
| done   | 右下角按钮为“完成”   |

> 注意：
>
> 1. confirm-type 的最终表现与手机输入法本身的实现有关，部分安卓系统输入法和第三方输入法可能不支持或不完全支持
> 2. input 组件是一个原生组件，字体是系统字体，所以无法设置 font-family
> 3. 在 input 聚焦期间，避免使用 css 动画
> 4. 对于将 input 封装在自定义组件中、而 form 在自定义组件外的情况， form 将不能获得这个自定义组件中 input 的值。此时需要使用自定义组件的 内置 behaviors wx://form-field
> 5. 键盘高度发生变化，keyboardheightchange 事件可能会多次触发，对于相同的 height 值应该忽略掉
> 6. bug : 微信版本 6.3.30, focus 属性设置无效
> 7. bug : 微信版本 6.3.30, placeholder 在聚焦时出现重影问题

### 3.7 label

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

用来改进表单组件的可用性。

使用 for 属性找到对应的 id，或者将控件放在该标签下，当点击时，就会触发对应的控件。 for 优先级高于内部控件，内部有多个控件的时候默认触发第一个控件。 目前可以绑定的控件有：button, checkbox, radio, switch。

### 3.8 picker (从底部弹起的滚动选择器)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

从底部弹起的滚动选择器。

| 属性        | 类型        | 默认值   | 必填 | 说明                     | 最低版本 |
| ----------- | ----------- | -------- | ---- | ------------------------ | -------- |
| header-text | string      | -        | 否   | 选择器的标题，仅安卓可用 | 2.11.0   |
| mode        | string      | selector | 否   | 选择器类型               | 1.0.0    |
| disabled    | boolean     | false    | 否   | 是否禁用                 | 1.0.0    |
| bindcancel  | eventHandle | -        | 否   | 取消选择时触发           | 1.9.90   |

**mode 的合法值**:

| 值            | 说明         |
| ------------- | ------------ |
| selector      | 普通选择器   |
| multiSelector | 多列选择器   |
| time          | 时间选择器   |
| date          | 日期选择器   |
| region        | 省市区选择器 |

除了上述通用的属性，对于不同的 mode，`picker` 拥有不同的属性

**普通选择器：mode = selector**:

| 属性       | 类型               | 默认值 | 说明                                                                                        |
| ---------- | ------------------ | ------ | ------------------------------------------------------------------------------------------- |
| range      | array/object array | []     | mode 为 selector 或 multiSelector 时，range 有效                                            |
| range-key  | string             | -      | 当 range 是一个 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容 |
| value      | number             | 0      | 表示选择了 range 中的第几个（下标从 0 开始）                                                |
| bindchange | eventHandle        | -      | value 改变时触发 change 事件，event.detail = {value}                                        |

**多列选择器：mode = multiSelector**:

| 属性             | 类型               | 默认值 | 说明                                                                                        |
| ---------------- | ------------------ | ------ | ------------------------------------------------------------------------------------------- |
| range            | array/object array | []     | mode 为 selector 或 multiSelector 时，range 有效                                            |
| range-key        | string             | -      | 当 range 是一个 Object Array 时，通过 range-key 来指定 Object 中 key 的值作为选择器显示内容 |
| value            | array              | []     | 表示选择了 range 中的第几个（下标从 0 开始）                                                |
| bindchange       | eventHandle        | -      | value 改变时触发 change 事件，event.detail = {value}                                        |
| bindcolumnchange | eventHandle        | -      | 列改变时触发                                                                                |

**时间选择器：mode = time**:

| 属性       | 类型        | 说明                                                 |
| ---------- | ----------- | ---------------------------------------------------- |
| value      | string      | 表示选中的时间，格式为"hh:mm"                        |
| start      | string      | 表示有效时间范围的开始，字符串格式为"hh:mm"          |
| end        | string      | 表示有效时间范围的结束，字符串格式为"hh:mm"          |
| bindchange | eventHandle | value 改变时触发 change 事件，event.detail = {value} |

**日期选择器：mode = date**:

| 属性       | 类型        | 默认值 | 说明                                                 |
| ---------- | ----------- | ------ | ---------------------------------------------------- |
| value      | string      | 当天   | 表示选中的日期，格式为"YYYY-MM-DD"                   |
| start      | string      | -      | 表示有效日期范围的开始，字符串格式为"YYYY-MM-DD"     |
| end        | string      | -      | 表示有效日期范围的结束，字符串格式为"YYYY-MM-DD"     |
| fields     | string      | day    | 有效值 year,month,day，表示选择器的粒度              |
| bindchange | eventHandle | -      | value 改变时触发 change 事件，event.detail = {value} |

**fields 有效值**:

| 值    | 说明             |
| ----- | ---------------- |
| year  | 选择器粒度为年   |
| month | 选择器粒度为月份 |
| day   | 选择器粒度为天   |

**省市区选择器：mode = region** 1.4.0

| 属性        | 类型        | 默认值 | 说明                                                                                                                      |
| ----------- | ----------- | ------ | ------------------------------------------------------------------------------------------------------------------------- |
| value       | array       | []     | 表示选中的省市区，默认选中每一列的第一个值                                                                                |
| custom-item | string      | -      | 可为每一列的顶部添加一个自定义的项 (最低版本 1.5.0)                                                                       |
| bindchange  | eventHandle | -      | value 改变时触发 change 事件，event.detail = {value, code, postcode}，其中字段 code 是统计用区划代码，postcode 是邮政编码 |

### 3.9 picker-view (嵌入页面的滚动选择器)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

嵌入页面的滚动选择器。其中只可放置 picker-view-column 组件，其它节点不会显示。

| 属性            | 类型             | 必填 | 说明 | 最低版本                                                                                                                                         |
| --------------- | ---------------- | ---- | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------ | ----- |
| value           | `Array.<number>` | -    | 否   | 数组中的数字依次表示 picker-view 内的 picker-view-column 选择的第几项（下标从 0 开始），数字大于 picker-view-column 可选项长度时，选择最后一项。 | 1.0.0 |
| indicator-style | string           | -    | 否   | 设置选择器中间选中框的样式                                                                                                                       | 1.0.0 |
| indicator-class | string           | -    | 否   | 设置选择器中间选中框的类名                                                                                                                       | 1.1.0 |
| mask-style      | string           | -    | 否   | 设置蒙层的样式                                                                                                                                   | 1.5.0 |
| mask-class      | string           | -    | 否   | 设置蒙层的类名                                                                                                                                   | 1.5.0 |
| bindchange      | eventHandle      | -    | 否   | 滚动选择时触发 change 事件，event.detail = {value}；value 为数组，表示 picker-view 内的 picker-view-column 当前选择的是第几项（下标从 0 开始）   | 1.0.0 |
| bindpickstart   | eventHandle      | -    | 否   | 当滚动选择开始时候触发事件                                                                                                                       | 2.3.1 |
| bindpickend     | eventHandle      | -    | 否   | 当滚动选择结束时候触发事件                                                                                                                       | 2.3.1 |

> 注意: 滚动时在 iOS 自带振动反馈，可在系统设置 -> 声音与触感 -> 系统触感反馈中关闭

### 3.10 picker-view-column (滚动选择器子项)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

滚动选择器子项。仅可放置于 picker-view 中，其子节点的高度会自动设置成与 picker-view 的选中框的高度一致

### 3.11 radio

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

单选项目。

| 属性     | 类型    | 默认值  | 必填 | 说明                                                                           |
| -------- | ------- | ------- | ---- | ------------------------------------------------------------------------------ |
| value    | string  | -       | 否   | radio 标识。当该 radio 选中时，radio-group 的 change 事件会携带 radio 的 value |
| checked  | boolean | false   | 否   | 当前是否选中                                                                   |
| disabled | boolean | false   | 否   | 是否禁用                                                                       |
| color    | string  | #09BB07 | 否   | radio 的颜色，同 css 的 color                                                  |

### 3.12 radio-group

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

单项选择器，内部由多个 radio 组成。

| 属性       | 类型        | 必填 | 说明                                                                                            |
| ---------- | ----------- | ---- | ----------------------------------------------------------------------------------------------- |
| bindchange | EventHandle | 否   | radio-group 中选中项发生改变时触发 change 事件，detail = {value:[选中的 radio 的 value 的数组]} |

### 3.13 switch (开关选择器)

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

开关选择器。

| 属性       | 类型        | 默认值  | 必填 | 说明                                                  | 最低版本 |
| ---------- | ----------- | ------- | ---- | ----------------------------------------------------- | -------- |
| checked    | boolean     | false   | 否   | 是否选中                                              | 1.0.0    |
| disabled   | boolean     | false   | 否   | 是否禁用                                              | 1.0.0    |
| type       | string      | switch  | 否   | 样式，有效值：switch, checkbox                        | 1.0.0    |
| color      | string      | #04BE02 | 否   | switch 的颜色，同 css 的 color                        | 1.0.0    |
| bindchange | eventHandle | -       | 否   | checked 改变时触发 change 事件，event.detail={ value} | 1.0.0    |

> 注意 ： switch 类型切换时在 iOS 自带振动反馈，可在系统设置 -> 声音与触感 -> 系统触感反馈中关闭

### 3.14 textarea

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

多行输入框。该组件是原生组件，使用时请注意相关限制。

| 属性                     | 类型        | 默认值               | 必填 | 说明                                                                                                                                                                          | 最低版本 |
| ------------------------ | ----------- | -------------------- | ---- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| value                    | string      | -                    | 否   | 输入框的内容                                                                                                                                                                  | 1.0.0    |
| placeholder              | string      | -                    | 否   | 输入框为空时占位符                                                                                                                                                            | 1.0.0    |
| placeholder-style        | string      | -                    | 否   | 指定 placeholder 的样式，目前仅支持 color,font-size 和 font-weight                                                                                                            | 1.0.0    |
| placeholder-class        | string      | textarea-placeholder | 否   | 指定 placeholder 的样式类                                                                                                                                                     | 1.0.0    |
| disabled                 | boolean     | false                | 否   | 是否禁用                                                                                                                                                                      | 1.0.0    |
| maxlength                | number      | 140                  | 否   | 最大输入长度，设置为 -1 的时候不限制最大长度                                                                                                                                  | 1.0.0    |
| auto-focus               | boolean     | false                | 否   | 自动聚焦，拉起键盘。                                                                                                                                                          | 1.0.0    |
| focus                    | boolean     | false                | 否   | 获取焦点                                                                                                                                                                      | 1.0.0    |
| auto-height              | boolean     | false                | 否   | 是否自动增高，设置 auto-height 时，style.height 不生效                                                                                                                        | 1.0.0    |
| fixed                    | boolean     | false                | 否   | 如果 textarea 是在一个 position:fixed 的区域，需要显示指定属性 fixed 为 true                                                                                                  | 1.0.0    |
| cursor-spacing           | number      | 0                    | 否   | 指定光标与键盘的距离。取 textarea 距离底部的距离和 cursor-spacing 指定的距离的最小值作为光标与键盘的距离                                                                      | 1.0.0    |
| cursor                   | number      | -1                   | 否   | 指定 focus 时的光标位置                                                                                                                                                       | 1.5.0    |
| show-confirm-bar         | boolean     | true                 | 否   | 是否显示键盘上方带有”完成“按钮那一栏                                                                                                                                          | 1.6.0    |
| selection-start          | number      | -1                   | 否   | 光标起始位置，自动聚集时有效，需与 selection-end 搭配使用                                                                                                                     | 1.9.0    |
| selection-end            | number      | -1                   | 否   | 光标结束位置，自动聚集时有效，需与 selection-start 搭配使用                                                                                                                   | 1.9.0    |
| adjust-position          | boolean     | true                 | 否   | 键盘弹起时，是否自动上推页面                                                                                                                                                  | 1.9.90   |
| hold-keyboard            | boolean     | false                | 否   | focus 时，点击页面的时候不收起键盘                                                                                                                                            | 2.8.2    |
| disable-default-padding  | boolean     | false                | 否   | 是否去掉 iOS 下的默认内边距                                                                                                                                                   | 2.10.0   |
| confirm-type             | string      | return               | 否   | 设置键盘右下角按钮的文字                                                                                                                                                      | 2.13.0   |
| bindfocus                | eventHandle | -                    | 否   | 输入框聚焦时触发，event.detail = { value, height }，height 为键盘高度，在基础库 1.9.90 起支持                                                                                 | 1.0.0    |
| bindblur                 | eventHandle | -                    | 否   | 输入框失去焦点时触发，event.detail = {value, cursor}                                                                                                                          | 1.0.0    |
| bindlinechange           | eventHandle | -                    | 否   | 输入框行数变化时调用，event.detail = {height: 0, heightRpx: 0, lineCount: 0}                                                                                                  | 1.0.0    |
| bindinput                | eventHandle | -                    | 否   | 当键盘输入时，触发 input 事件，event.detail = {value, cursor, keyCode}，keyCode 为键值，目前工具还不支持返回 keyCode 参数。bindinput 处理函数的返回值并不会反映到 textarea 上 | 1.0.0    |
| bindconfirm              | eventHandle | -                    | 否   | 点击完成时， 触发 confirm 事件，event.detail = {value: value}                                                                                                                 | 1.0.0    |
| bindkeyboardheightchange | eventHandle | -                    | 否   | 键盘高度发生变化的时候触发此事件，event.detail = {height: height, duration: duration}                                                                                         | 2.7.0    |

> 注意：
>
> 1. textarea 的 blur 事件会晚于页面上的 tap 事件，如果需要在 button 的点击事件获取 textarea，可以使用 form 的 bindsubmit。
> 2. 不建议在多行文本上对用户的输入进行修改，所以 textarea 的 bindinput 处理函数并不会将返回值反映到 textarea 上。
> 3. 键盘高度发生变化，keyboardheightchange 事件可能会多次触发，对于相同的 height 值应该忽略掉
> 4. bug: 微信版本 6.3.30，textarea 在列表渲染时，新增加的 textarea 在自动聚焦时的位置计算错误。

## 四. 导航

### 4.1 functional-page-navigator (仅在插件中有效，用于跳转到插件功能页)

基础库 2.1.0 开始支持，低版本需做兼容处理。

仅在插件中有效，用于跳转到插件功能页。

| 属性        | 类型         | 默认值  | 必填 | 说明                                                       | 最低版本 |
| ----------- | ------------ | ------- | ---- | ---------------------------------------------------------- | -------- |
| version     | string       | release | 否   | 跳转到的小程序版本，线上版本必须设置为 release             | 2.1.0    |
| name        | string       | -       | 否   | 要跳转到的功能页                                           | 2.1.0    |
| args        | object       | -       | 否   | 功能页参数，参数格式与具体功能页相关                       | 2.1.0    |
| bindsuccess | eventHandler | -       | 否   | 功能页返回，且操作成功时触发， detail 格式与具体功能页相关 | 2.1.0    |
| bindfail    | eventHandler | -       | 否   | 功能页返回，且操作失败时触发， detail 格式与具体功能页相关 | 2.1.0    |
| bindcancel  | eventHandler | -       | 否   | 因用户操作从功能页返回时触发                               | 2.4.1    |

**version 的合法值**:

| 值      | 说明   |
| ------- | ------ |
| develop | 开发版 |
| trial   | 体验版 |
| release | 正式版 |

**name 的合法值**:

| 值                  | 说明               | 最低版本 |
| ------------------- | ------------------ | -------- |
| loginAndGetUserInfo | 用户信息功能页     | 2.1.0    |
| requestPayment      | 支付功能页         | 2.1.0    |
| chooseAddress       | 收货地址功能页     | 2.4.0    |
| chooseInvoice       | 获取发票功能页     | 2.14.1   |
| chooseInvoiceTitle  | 获取发票抬头功能页 | 2.14.1   |

> 注意：
>
> 1. 功能页是插件所有者小程序中的一个特殊页面，不能自定义这个页面的外观。
> 2. 在功能页展示时，一些与界面展示相关的接口将被禁用（接口调用返回 fail ）。
> 3. 这个组件本身可以在开发者工具中使用，但功能页的跳转目前不支持在开发者工具中调试，请在真机上测试。

### 4.2 navigator

> 基础库 1.0.0 开始支持，低版本需做兼容处理。
> 在小程序插件中使用需要基础库版本 2.1.0 起。

页面链接。

| 属性                   | 类型    | 默认值          | 必填 | 说明                                                                                                                          | 最低版本 |
| ---------------------- | ------- | --------------- | ---- | ----------------------------------------------------------------------------------------------------------------------------- | -------- |
| target                 | string  | self            | 否   | 在哪个目标上发生跳转，默认当前小程序                                                                                          | 2.0.7    |
| url                    | string  | -               | 否   | 当前小程序内的跳转链接                                                                                                        | 1.0.0    |
| open-type              | string  | navigate        | 否   | 跳转方式                                                                                                                      | 1.0.0    |
| delta                  | number  | 1               | 否   | 当 open-type 为 'navigateBack' 时有效，表示回退的层数                                                                         | 1.0.0    |
| app-id                 | string  | -               | 否   | 当 target="miniProgram"时有效，要打开的小程序 appId                                                                           | 2.0.7    |
| path                   | string  | -               | 否   | 当 target="miniProgram"时有效，打开的页面路径，如果为空则打开首页                                                             | 2.0.7    |
| extra-data             | object  | -               | 否   | 当 target="miniProgram"时有效，需要传递给目标小程序的数据，目标小程序可在 App.onLaunch()，App.onShow() 中获取到这份数据。详情 | 2.0.7    |
| version                | string  | release         | 否   | 当 target="miniProgram"时有效，要打开的小程序版本                                                                             | 2.0.7    |
| hover-class            | string  | navigator-hover | 否   | 指定点击时的样式类，当 hover-class="none"时，没有点击态效果                                                                   | 1.0.0    |
| hover-stop-propagation | boolean | false           | 否   | 指定是否阻止本节点的祖先节点出现点击态                                                                                        | 1.5.0    |
| hover-start-time       | number  | 50              | 否   | 按住后多久出现点击态，单位毫秒                                                                                                | 1.0.0    |
| hover-stay-time        | number  | 600             | 否   | 手指松开后点击态保留时间，单位毫秒                                                                                            | 1.0.0    |
| bindsuccess            | string  | -               | 否   | 当 target="miniProgram"时有效，跳转小程序成功                                                                                 | 2.0.7    |
| bindfail               | string  | -               | 否   | 当 target="miniProgram"时有效，跳转小程序失败                                                                                 | 2.0.7    |
| bindcomplete           | string  | -               | 否   | 当 target="miniProgram"时有效，跳转小程序完成                                                                                 | 2.0.7    |

**target 的合法值**:

| 值           | 说明                                                  | 最低版本 |
| ------------ | ----------------------------------------------------- | -------- |
| navigate     | 对应 wx.navigateTo 或 wx.navigateToMiniProgram 的功能 | 1.0.0    |
| redirect     | 对应 wx.redirectTo 的功能                             | 1.0.0    |
| switchTab    | 对应 wx.switchTab 的功能                              | 1.0.0    |
| reLaunch     | 对应 wx.reLaunch 的功能                               | 1.1.0    |
| navigateBack | 对应 wx.navigateBack 的功能                           | 1.1.0    |
| exit         | 退出小程序，target="miniProgram"时生效                | 2.1.0    |

**version 的合法值**:

| 值      | 说明                                                                                                     |
| ------- | -------------------------------------------------------------------------------------------------------- |
| develop | 开发版                                                                                                   |
| trial   | 体验版                                                                                                   |
| release | 正式版，仅在当前小程序为开发版或体验版时此参数有效；如果当前小程序是正式版，则打开的小程序必定是正式版。 |

**使用限制**:

1. 需要用户确认跳转 从 2.3.0 版本开始，在跳转至其他小程序前，将统一增加弹窗，询问是否跳转，用户确认后才可以跳转其他小程序。如果用户点击取消，则回调 `fail cancel`。
2. 每个小程序可跳转的其他小程序数量限制为不超过 10 个 从 2.4.0 版本以及指定日期（具体待定）开始，提交新版小程序代码时，如使用了跳转其他小程序功能，则需要在代码配置中声明将要跳转的小程序名单，限定不超过 10 个，否则将无法通过审核。该名单可在发布新版时更新，不支持动态修改。调用此接口时，所跳转的 appId 必须在配置列表中，否则回调 `fail appId "${appId}" is not in navigateToMiniProgramAppIdList`。

**关于调试**:

- 在开发者工具上调用此 API 并不会真实的跳转到另外的小程序，但是开发者工具会校验本次调用跳转是否成功。[详情](https://developers.weixin.qq.com/miniprogram/dev/devtools/different.html#%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95%E6%94%AF%E6%8C%81)
- 开发者工具上支持被跳转的小程序处理接收参数的调试。[详情](https://developers.weixin.qq.com/miniprogram/dev/devtools/different.html#%E8%B7%B3%E8%BD%AC%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%B0%83%E8%AF%95%E6%94%AF%E6%8C%81)

> 注意 : `navigator-hover` 默认为 {background-color: rgba(0, 0, 0, 0.1); opacity: 0.7;}, navigator 的子节点背景色应为透明色

## 五. 媒体组件

### 5.1 audio

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

音频。1.6.0 版本开始，该组件不再维护。建议使用能力更强的 [wx.createInnerAudioContext](https://developers.weixin.qq.com/miniprogram/dev/api/media/audio/wx.createInnerAudioContext.html) 接口

### 5.2 camera

> 基础库 1.6.0 开始支持，低版本需做兼容处理。

系统相机。扫码二维码功能，需升级微信客户端至 6.7.3。需要用户授权 `scope.camera`。 2.10.0 起 initDone 事件返回 maxZoom，最大变焦范围，相关接口 [CameraContext.setZoom](https://developers.weixin.qq.com/miniprogram/dev/api/media/camera/CameraContext.setZoom.html)。

相关 api：[wx.createCameraContext](https://developers.weixin.qq.com/miniprogram/dev/api/media/camera/wx.createCameraContext.html)

| 属性            | 类型        | 默认值 | 必填 | 说明                                              | 最低版本 |
| --------------- | ----------- | ------ | ---- | ------------------------------------------------- | -------- |
| mode            | string      | normal | 否   | 应用模式，只在初始化时有效，不能动态变更          | 2.1.0    |
| resolution      | string      | medium | 否   | 分辨率，不支持动态修改                            | 2.10.0   |
| device-position | string      | back   | 否   | 摄像头朝向                                        | 1.0.0    |
| flash           | string      | auto   | 否   | 闪光灯，值为 auto, on, off                        | 1.0.0    |
| frame-size      | string      | medium | 否   | 指定期望的相机帧数据尺寸                          | 2.7.0    |
| bindstop        | eventHandle | -      | 否   | 摄像头在非正常终止时触发，如退出后台等情况        | 1.0.0    |
| binderror       | eventHandle | -      | 否   | 用户不允许使用摄像头时触发                        | 1.0.0    |
| bindinitdone    | eventHandle | -      | 否   | 相机初始化完成时触发，e.detail = {maxZoom}        | 2.7.0    |
| bindscancode    | eventHandle | -      | 否   | 在扫码识别成功时触发，仅在 mode="scanCode" 时生效 | 2.1.0    |

**mode 的合法值**:

| 值       | 说明     |
| -------- | -------- |
| normal   | 相机模式 |
| scanCode | 扫码模式 |

**resolution 的合法值**:

| 值     | 说明 |
| ------ | ---- |
| low    | 低   |
| medium | 中   |
| high   | 高   |

**device-position 的合法值**:

| 值    | 说明 |
| ----- | ---- |
| front | 前置 |
| back  | 后置 |

**flash 的合法值**:

| 值    | 说明       |
| ----- | ---------- |
| auto  | 自动       |
| on    | 打开       |
| off   | 关闭       |
| torch | 常亮 2.8.0 |

**frame-size 的合法值**:

| 值     | 说明         |
| ------ | ------------ |
| small  | 小尺寸帧数据 |
| medium | 中尺寸帧数据 |
| large  | 大尺寸帧数据 |

> 注意:
>
> 1. 同一页面只能插入一个 camera 组件
> 2. 请注意原生组件使用限制
> 3. onCameraFrame 接口根据 frame-size 返回不同尺寸的原始帧数据，与 Camera 组件展示的图像不同，其实际像素值由系统决定

### 5.3 image

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

图片。支持 JPG、PNG、SVG、WEBP、GIF 等格式，2.3.0 起支持云文件 ID。

| 属性                   | 类型        | 默认值      | 必填 | 说明                                                   | 最低版本 |
| ---------------------- | ----------- | ----------- | ---- | ------------------------------------------------------ | -------- |
| src                    | string      | -           | 否   | 图片资源地址                                           | 1.0.0    |
| mode                   | string      | scaleToFill | 否   | 图片裁剪、缩放的模式                                   | 1.0.0    |
| webp                   | boolean     | false       | 否   | 默认不解析 webP 格式，只支持网络资源                   | 2.9.0    |
| lazy-load              | boolean     | false       | 否   | 图片懒加载，在即将进入一定范围（上下三屏）时才开始加载 | 1.5.0    |
| show-menu-by-longpress | boolean     | false       | 否   | 开启长按图片显示识别小程序码菜单                       | 2.7.0    |
| binderror              | eventHandle | -           | 否   | 当错误发生时触发，event.detail = {errMsg}              | 1.0.0    |
| bindload               | eventHandle | -           | 否   | 当图片载入完毕时触发，event.detail = {height, width}   | 1.0.0    |

**mode 的合法值**:

| 值           | 说明                                                                                                                                 |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------ |
| scaleToFill  | 缩放模式，不保持纵横比缩放图片，使图片的宽高完全拉伸至填满 image 元素                                                                |
| aspectFit    | 缩放模式，保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来。                                       |
| aspectFill   | 缩放模式，保持纵横比缩放图片，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取。 |
| widthFix     | 缩放模式，宽度不变，高度自动变化，保持原图宽高比不变                                                                                 |
| heightFix    | 缩放模式，高度不变，宽度自动变化，保持原图宽高比不变 最低版本 2.10.3                                                                 |
| top          | 裁剪模式，不缩放图片，只显示图片的顶部区域                                                                                           |
| bottom       | 裁剪模式，不缩放图片，只显示图片的底部区域                                                                                           |
| center       | 裁剪模式，不缩放图片，只显示图片的中间区域                                                                                           |
| left         | 裁剪模式，不缩放图片，只显示图片的左边区域                                                                                           |
| right        | 裁剪模式，不缩放图片，只显示图片的右边区域                                                                                           |
| top left     | 裁剪模式，不缩放图片，只显示图片的左上边区域                                                                                         |
| top right    | 裁剪模式，不缩放图片，只显示图片的右上边区域                                                                                         |
| bottom left  | 裁剪模式，不缩放图片，只显示图片的左下边区域                                                                                         |
| bottom right | 裁剪模式，不缩放图片，只显示图片的右下边区域                                                                                         |

> 注意：
>
> 1. image 组件默认宽度 320px、高度 240px
> 2. image 组件中二维码/小程序码图片不支持长按识别。仅在 wx.previewImage 中支持长按识别

### 5.4 live-player (实时音视频播放)

> 基础库 1.7.0 开始支持，低版本需做兼容处理。

实时音视频播放（v2.9.1 起支持 [同层渲染](#same-render)）。相关 api：[wx.createLivePlayerContext](https://developers.weixin.qq.com/miniprogram/dev/api/media/live/wx.createLivePlayerContext.html)

暂只针对国内主体如下类目的小程序开放，需要先通过类目审核，再在小程序管理后台，「开发」-「接口设置」中自助开通该组件权限。 [详情查看](https://developers.weixin.qq.com/miniprogram/dev/component/live-player.html)

### 5.5 live-pusher (实时音视频录制)

> 基础库 1.7.0 开始支持，低版本需做兼容处理。

实时音视频录制（v2.9.1 起支持 [同层渲染](#same-render)）。需要用户授权 `scope.camera`、`scope.record`。

暂只针对国内主体如下类目的小程序开放，需要先通过类目审核，再在小程序管理后台，「开发」-「接口设置」中自助开通该组件权限。 [详情查看](https://developers.weixin.qq.com/miniprogram/dev/component/live-pusher.html)

### 5.6 video

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

视频（v2.4.0 起支持 [同层渲染](#same-render)）。相关 api：[wx.createVideoContext](https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.createVideoContext.html)

[详情查看](https://developers.weixin.qq.com/miniprogram/dev/component/video.html)

### 5.7 voip-room (多人音视频对话)

> 基础库 2.11.0 开始支持，低版本需做兼容处理。

多人音视频对话。需用户授权 scope.camera、scope.record。相关接口： [wx.joinVoIPChat](https://developers.weixin.qq.com/miniprogram/dev/api/media/voip/wx.joinVoIPChat.html)

暂只针对国内主体如下类目的小程序开放，需要先通过类目审核，再在小程序管理后台，「开发」-「接口设置」中自助开通该组件权限。 [详情查看](https://developers.weixin.qq.com/miniprogram/dev/component/voip-room.html)

## 六. 地图

### 6.1 map

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

地图（v2.7.0 起支持 [同层渲染](#same-render)）。相关 api [wx.createMapContext](https://developers.weixin.qq.com/miniprogram/dev/api/media/map/wx.createMapContext.html)。

个性化地图能力可在小程序后台“开发-开发者工具-腾讯位置服务”申请开通，详见 [《微信小程序解决方案》](https://lbs.qq.com/product/miniapp/home/)。 小程序内地图组件应使用同一 `subkey`，可通过 `layer-style`（地图官网设置的样式 style 编号）属性选择不同的底图风格。 组件属性的长度单位默认为 px，2.4.0 起支持传入单位(rpx/px)。

[详情查看](https://developers.weixin.qq.com/miniprogram/dev/component/map.html)

## 七. 画布

### 7.1 canvas

> 基础库 1.0.0 开始支持，低版本需做兼容处理。

画布。2.9.0 起支持一套新 Canvas 2D 接口（需指定 `type` 属性），同时支持 [同层渲染](#same-render)，原有接口不再维护。相关 api：[获取 canvas 实例](https://developers.weixin.qq.com/miniprogram/dev/api/canvas/Canvas.html)。

| 属性            | 类型        | 默认值 | 必填 | 说明                                                                | 最低版本 |
| --------------- | ----------- | ------ | ---- | ------------------------------------------------------------------- | -------- |
| type            | string      | -      | 否   | 指定 canvas 类型，支持 2d (2.9.0) 和 webgl (2.7.0)                  | 2.7.0    |
| canvas-id       | string      | -      | 否   | canvas 组件的唯一标识符，若指定了 type 则无需再指定该属性           | 1.0.0    |
| disable-scroll  | boolean     | false  | 否   | 当在 canvas 中移动时且有绑定手势事件时，禁止屏幕滚动以及下拉刷新    | 1.0.0    |
| bindtouchstart  | eventHandle | -      | 否   | 手指触摸动作开始                                                    | 1.0.0    |
| bindtouchmove   | eventHandle | -      | 否   | 手指触摸后移动                                                      | 1.0.0    |
| bindtouchend    | eventHandle | -      | 否   | 手指触摸动作结束                                                    | 1.0.0    |
| bindtouchcancel | eventHandle | -      | 否   | 手指触摸动作被打断，如来电提醒，弹窗                                | 1.0.0    |
| bindlongtap     | eventHandle | -      | 否   | 手指长按 500ms 之后触发，触发了长按事件后进行移动不会触发屏幕的滚动 | 1.0.0    |
| binderror       | eventHandle | -      | 否   | 当发生错误时触发 error 事件，detail = {errMsg}                      | 1.0.0    |

> 注意：
>
> 1. canvas 标签默认宽度 300px、高度 150px
> 2. 同一页面中的 canvas-id 不可重复，如果使用一个已经出现过的 canvas-id，该 canvas 标签对应的画布将被隐藏并不再正常工作
> 3. 请注意原生组件使用限制
> 4. 开发者工具中默认关闭了 GPU 硬件加速，可在开发者工具的设置中开启“硬件加速”提高 WebGL 的渲染性能
> 5. WebGL 支持通过 getContext('webgl', { alpha: true }) 获取透明背景的画布
> 6. Canvas 2D（新接口）需要显式设置画布宽高 (默认为 300x150)
> 7. bug: 避免设置过大的宽高，在安卓下会有 crash 的问题

**Canvas 2D 示例代码**:

```js
// canvas.js
Page({
  onReady() {
    const query = wx.createSelectorQuery();
    query
      .select('#myCanvas')
      .fields({ node: true, size: true })
      .exec(res => {
        const canvas = res[0].node;
        const ctx = canvas.getContext('2d');

        const dpr = wx.getSystemInfoSync().pixelRatio;
        canvas.width = res[0].width * dpr;
        canvas.height = res[0].height * dpr;
        ctx.scale(dpr, dpr);

        ctx.fillRect(0, 0, 100, 100);
      });
  }
});
```

**WebGL 示例代码**:

```js
// canvas.js
Page({
  onReady() {
    const query = wx.createSelectorQuery();
    query
      .select('#myCanvas')
      .node()
      .exec(res => {
        const canvas = res[0].node;
        const gl = canvas.getContext('webgl');
        gl.clearColor(1, 0, 1, 1);
        gl.clear(gl.COLOR_BUFFER_BIT);
      });
  }
});
```

## 八. 开放能力

### 8.1 ad (Banner 广告)

> 基础库 1.9.94 开始支持，低版本需做兼容处理。

Banner 广告。

| 属性         | 类型        | 默认值 | 必填 | 说明                                                                                              | 最低版本 |
| ------------ | ----------- | ------ | ---- | ------------------------------------------------------------------------------------------------- | -------- |
| unit-id      | string      | -      | 是   | 广告单元 id，可在小程序管理后台的流量主模块新建                                                   | 1.9.94   |
| ad-intervals | number      | -      | 否   | 广告自动刷新的间隔时间，单位为秒，参数值必须大于等于 30（该参数不传入时 Banner 广告不会自动刷新） | 2.3.1    |
| ad-type      | string      | banner | 否   | 广告类型，默认为展示 banner，可通过设置该属性为 video 展示视频广告, grid 为格子广告               | 2.8.0    |
| ad-theme     | string      | white  | 否   |                                                                                                   | 2.8.0    |
| bindload     | eventHandle | -      | 否   | 广告加载成功的回调                                                                                | 2.2.1    |
| binderror    | eventHandle | -      | 否   | 广告加载失败的回调，event.detail = {errCode: 1002}                                                | 2.2.1    |
| bindclose    | eventHandle | -      | 否   | 广告关闭的回调                                                                                    | 2.6.5    |

**错误码信息与解决方案表**
错误码是通过 binderror 回调获取到的错误信息。

| 代码 | 异常情况         | 理由                                                               | 解决方案                                                                                                                     |
| ---- | ---------------- | ------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------- |
| 1000 | 后端错误调用失败 | 该项错误不是开发者的异常情况                                       | 一般情况下忽略一段时间即可恢复。                                                                                             |
| 1001 | 参数错误         | 使用方法错误                                                       | 可以前往 developers.weixin.qq.com 确认具体教程（小程序和小游戏分别有各自的教程，可以在顶部选项中，“设计”一栏的右侧进行切换。 |
| 1002 | 广告单元无效     | 可能是拼写错误、或者误用了其他 APP 的广告 ID                       | 请重新前往 mp.weixin.qq.com 确认广告位 ID。                                                                                  |
| 1003 | 内部错误         | 该项错误不是开发者的异常情况                                       | 一般情况下忽略一段时间即可恢复。                                                                                             |
| 1004 | 无适合的广告     | 广告不是每一次都会出现，这次没有出现可能是由于该用户不适合浏览广告 | 属于正常情况，且开发者需要针对这种情况做形态上的兼容。                                                                       |
| 1005 | 广告组件审核中   | 你的广告正在被审核，无法展现广告                                   | 请前往 mp.weixin.qq.com 确认审核状态，且开发者需要针对这种情况做形态上的兼容。                                               |
| 1006 | 广告组件被驳回   | 你的广告审核失败，无法展现广告                                     | 请前往 mp.weixin.qq.com 确认审核状态，且开发者需要针对这种情况做形态上的兼容。                                               |
| 1007 | 广告组件被驳回   | 你的广告能力已经被封禁，封禁期间无法展现广告                       | 请前往 mp.weixin.qq.com 确认小程序广告封禁状态。                                                                             |
| 1008 | 广告单元已关闭   | 该广告位的广告能力已经被关闭                                       | 请前往 mp.weixin.qq.com 重新打开对应广告位的展现。                                                                           |

> 注意：
>
> 1. 在无广告展示时，ad 标签不会占用高度
> 2. ad 组件不支持触发 bindtap 等触摸相关事件
> 3. 目前可以给 ad 标签设置 wxss 样式调整广告宽度，以使广告与页面更融洽，但请遵循小程序流量主应用规范
> 4. 监听到 error 回调后，开发者可以针对性的处理，比如隐藏广告组件的父容器，以保证用户体验，但不要移除广告组件，否则将无法收到 bindload 的回调。

### 8.2 ad-custom (原生模板 广告)

> 基础库 2.10.4 开始支持，低版本需做兼容处理。

原生模板 广告。

| 属性         | 类型        | 必填 | 说明                                                                                            | 最低版本 |
| ------------ | ----------- | ---- | ----------------------------------------------------------------------------------------------- | -------- |
| unit-id      | string      | 是   | 广告单元 id，可在小程序管理后台的流量主模块新建                                                 | 2.10.4   |
| ad-intervals | number      | 否   | 广告自动刷新的间隔时间，单位为秒，参数值必须大于等于 30（该参数不传入时 模板 广告不会自动刷新） | 2.10.4   |
| bindload     | eventHandle | 否   | 广告加载成功的回调                                                                              | 2.10.4   |
| binderror    | eventHandle | 否   | 广告加载失败的回调，event.detail = {errCode: 1002}                                              | 2.10.4   |

**错误码信息与解决方案表**
错误码是通过 binderror 回调获取到的错误信息。 和上面的 ad 错误码信息 一致。

> 注意：
>
> 1. 在无广告展示时，ad-custom 标签不会占用高度
> 2. ad-custom 组件不支持触发 bindtap 等触摸相关事件
> 3. 目前可以给 ad-custom 标签设置 wxss 样式调整广告宽度，以使广告与页面更融洽，但请遵循小程序流量主应用规范
> 4. 监听到 error 回调后，可以针对性的处理，比如隐藏广告组件的父容器，以保证用户体验，但不要移除广告组件，否则将无法收到 bindload 的回调
> 5. 不同模板涉及一些不同的使用场景，具体方式请参考模板编辑器

### 8.3 official-account (公众号关注组件)

> 基础库 2.3.0 开始支持，低版本需做兼容处理。

公众号关注组件。当用户扫小程序码打开小程序时，可在小程序内配置公众号关注组件，方便用户快捷关注公众号，可嵌套在原生组件内。

| 属性名    | 类型        | 说明               |
| --------- | ----------- | ------------------ |
| bindload  | EventHandle | 组件加载成功时触发 |
| binderror | EventHandle | 组件加载失败时触发 |

**detail 对象**:

| 属性名 | 类型   | 说明     |
| ------ | ------ | -------- |
| status | Number | 状态码   |
| errMsg | String | 错误信息 |

**status 有效值**:

| 值  | 说明                           |
| --- | ------------------------------ |
| -2  | 网络错误                       |
| -1  | 数据解析错误                   |
| 0   | 加载成功                       |
| 1   | 小程序关注公众号功能被封禁     |
| 2   | 关联公众号被封禁               |
| 3   | 关联关系解除或未选中关联公众号 |
| 4   | 未开启关注公众号功能           |
| 5   | 场景值错误                     |
| 6   | 重复创建                       |

> 注意：
>
> 1. 用组件前，需前往小程序后台，在“设置”->“关注公众号”中设置要展示的公众号。注：设置的公众号需与小程序主体一致。
> 2. 在一个小程序的生命周期内，只有从以下场景进入小程序，才具有展示引导关注公众号组件的能力:
>    1. 当小程序从扫小程序码场景（场景值 1047，场景值 1124）打开时
>    2. 当小程序从聊天顶部场景（场景值 1089）中的「最近使用」内打开时，若小程序之前未被销毁，则该组件保持上一次打开小程序时的状态
>    3. 当从其他小程序返回小程序（场景值 1038）时，若小程序之前未被销毁，则该组件保持上一次打开小程序时的状态
> 3. 为便于开发者调试，基础库 2.7.3 版本起开发版小程序增加以下场景展示公众号组件：
>    1. 开发版小程序从扫二维码（场景值 1011）打开 — 体验版小程序打开
> 4. 组件限定最小宽度为 300px，高度为定值 84px。
> 5. 每个页面只能配置一个该组件。

### 8.4 open-data (用于展示微信开放的数据)

> 基础库 1.4.0 开始支持，低版本需做兼容处理。

用于展示微信开放的数据。小程序插件中不能使用。

| 属性           | 类型        | 默认值 | 必填 | 说明                                                 | 最低版本 |
| -------------- | ----------- | ------ | ---- | ---------------------------------------------------- | -------- |
| type           | string      | -      | 否   | 开放数据类型                                         | 1.4.0    |
| open-gid       | string      | -      | 否   | 当 type="groupName" 时生效, 群 id                    | 1.4.0    |
| lang           | string      | en     | 否   | 当 type="user\*" 时生效，以哪种语言展示 userInfo     | 1.4.0    |
| default-text   | string      | -      | 否   | 数据为空时的默认文案                                 | 2.8.1    |
| default-avatar | string      | -      | 否   | 用户头像为空时的默认图片，支持相对路径和网络图片路径 | 2.8.1    |
| binderror      | eventHandle | -      | 否   | 群名称或用户信息为空时触发                           | 2.8.1    |

**type 的合法值**:

| 值            | 说明         | 最低版本 |
| ------------- | ------------ | -------- |
| groupName     | 拉取群名称   | 1.4.0    |
| userNickName  | 用户昵称     | 1.9.90   |
| userAvatarUrl | 用户头像     | 1.9.90   |
| userGender    | 用户性别     | 1.9.90   |
| userCity      | 用户所在城市 | 1.9.90   |
| userProvince  | 用户所在省份 | 1.9.90   |
| userCountry   | 用户所在国家 | 1.9.90   |
| userLanguage  | 用户的语言   | 1.9.90   |

**lang 的合法值**:

| 值    | 说明     |
| ----- | -------- |
| en    | 英文     |
| zh_CN | 简体中文 |
| zh_TW | 繁体中文 |

> 注意：
>
> 1. 只有当前用户在此群内才能拉取到群名称
> 2. 关于 open-gid 的获取请使用 [wx.getShareInfo](https://developers.weixin.qq.com/miniprogram/dev/api/share/wx.getShareInfo.html)

### 8.5 web-view (承载网页的容器)

> 基础库 1.6.4 开始支持，低版本需做兼容处理。

承载网页的容器。会自动铺满整个小程序页面，**个人类型的小程序暂不支持使用。**

客户端 6.7.2 版本开始，`navigationStyle: custom` 对 web-view 组件无效。小程序插件中不能使用。

[详情查看](https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html)

## 九. 原生组件说明

小程序中的部分组件是由客户端创建的原生组件，这些组件有：

- camera
- canvas
- input（仅在 focus 时表现为原生组件）
- live-player
- live-pusher
- map
- textarea
- video

**原生组件的使用限制**
由于原生组件脱离在 WebView 渲染流程外，因此在使用时有以下限制：

- 原生组件的层级是最高的，所以页面中的其他组件无论设置 `z-index` 为多少，都无法盖在原生组件上。
  - 后插入的原生组件可以覆盖之前的原生组件。
- 原生组件还无法在 picker-view 中使用。
  - 基础库 2.4.4 以下版本，原生组件不支持在 scroll-view、swiper、movable-view 中使用。
- 部分 CSS 样式无法应用于原生组件，例如：
  - 无法对原生组件设置 CSS 动画
  - 无法定义原生组件为 position: fixed
  - 不能在父级节点使用 overflow: hidden 来裁剪原生组件的显示区域
- 原生组件的事件监听不能使用 `bind:eventname` 的写法，只支持 `bindeventname`。原生组件也不支持 `catch` 和 `capture` 的事件绑定方式。
- 原生组件会遮挡 vConsole 弹出的调试面板。 在工具上，原生组件是用 web 组件模拟的，因此很多情况并不能很好的还原真机的表现，建议在使用到原生组件时尽量在真机上进行调试。

**cover-view 与 cover-image**
为了解决原生组件层级最高的限制。小程序专门提供了 [cover-view](#12-cover-view-覆盖在原生组件之上的文本视图) 和 [cover-image](<(#11-cover-image-覆盖在原生组件之上的图片视图)>) 组件，可以覆盖在部分原生组件上面。这两个组件也是原生组件，但是使用限制与其他原生组件有所不同。

```html
<span id="same-render">**原生组件同层渲染**</span>
```

同层渲染是为了解决原生组件的层级问题，在支持同层渲染后，原生组件与其它组件可以随意叠加，有关层级的限制将不再存在。但需要注意的是，组件内部仍由原生渲染，样式一般还是对原生组件内部无效。当前 video, map, live-player, live-pusher, canvas(2d) 组件已支持同层渲染。

**原生组件相对层级**
为了可以调整原生组件之间的相对层级位置，小程序在 v2.7.0 及以上版本支持在样式中声明 `z-index` 来指定原生组件的层级。该 `z-index` 仅调整原生组件之间的层级顺序，其层级仍高于其他非原生组件。

## 十. 无障碍访问

为了更好地满足视障人士对于小程序的访问需求，基础库自 2.7.1 起，支持部分 ARIA 标签。

无障碍特性在读屏模式下可以访问，iOS 可通过 设置->通用->辅助功能->旁白 打开。

以 `view` 组件为例，开发者可以增加 `aria-role` 和 `aria-label` 属性。 其中 `aria-role` 表示组件的角色，当设置为'img'时，读屏模式下聚焦后系统会朗读出'图像'。设置为'button'时，聚焦后后系统朗读出'按钮'。 `aria-label` 表示组件附带的额外信息，聚焦后系统会自动朗读出来。

小程序已经内置了一些无障碍的特性，对于非原生组件，开发者可以添加以下无障碍标签。

aria-hidden | aria-role | aria-label | aria-checked | aria-disabled
aria-describedby | aria-expanded | aria-haspopup | aria-selected | aria-required
aria-orientation | aria-valuemin | aria-valuemax | aria-valuenow | aria-readonly
aria-multiselectable | aria-controls | tabindex | aria-labelledby | ria-orientation
aia-multiselectable | aria-labelledby

```wxml
<view aria-role="button"  aria-label="提交表单">提交</view>
```

> 注意：
>
> 1. 安卓和 iOS 读屏模式下设置 aria-role 后朗读的内容不同系统之间会有差异
> 2. 可设置的 aria-role 可参看 [Using Aria](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques) 中的 Widget Roles，部分 role 的设置在移动端可能无效。

## 十一. 导航栏

### 11.1 navigation-bar (页面导航条配置节点)

> 基础库 2.9.0 开始支持，低版本需做兼容处理。

页面导航条配置节点，用于指定导航栏的一些属性。只能是 [page-meta](#121-page-meta-页面属性配置节点用于指定页面的一些属性-监听页面事件) 组件内的第一个节点，需要配合它一同使用。

通过这个节点可以获得类似于调用 [wx.setNavigationBarTitle](https://developers.weixin.qq.com/miniprogram/dev/api/ui/navigation-bar/wx.setNavigationBarTitle.html) [wx.setNavigationBarColor](https://developers.weixin.qq.com/miniprogram/dev/api/ui/navigation-bar/wx.setNavigationBarColor.html) 等接口调用的效果。

| 属性                        | 类型    | 默认值   | 必填 | 说明                                                                      | 最低版本 |
| --------------------------- | ------- | -------- | ---- | ------------------------------------------------------------------------- | -------- |
| title                       | string  | -        | 否   | 导航条标题                                                                | 2.9.0    |
| loading                     | boolean | false    | 否   | 是否在导航条显示 loading 加载提示                                         | 2.9.0    |
| front-color                 | string  | -        | 否   | 导航条前景颜色值，包括按钮、标题、状态栏的颜色，仅支持 #ffffff 和 #000000 | 2.9.0    |
| background-color            | string  | -        | 否   | 导航条背景颜色值，有效值为十六进制颜色                                    | 2.9.0    |
| color-animation-duration    | number  | 0        | 否   | 改变导航栏颜色时的动画时长，默认为 0 （即没有动画效果）                   | 2.9.0    |
| color-animation-timing-func | number  | "linear" | 否   | 改变导航栏颜色时的动画方式，支持 linear 、 easeIn 、 easeOut 和 easeInOut | 2.9.0    |

## 十二. 页面属性配置节点

### 12.1 page-meta (页面属性配置节点，用于指定页面的一些属性、监听页面事件)

> 基础库 2.9.0 开始支持，低版本需做兼容处理。

页面属性配置节点，用于指定页面的一些属性、监听页面事件。只能是页面内的第一个节点。可以配合 navigation-bar 组件一同使用。

通过这个节点可以获得类似于调用 [wx.setBackgroundTextStyle](https://developers.weixin.qq.com/miniprogram/dev/api/ui/background/wx.setBackgroundTextStyle.html) [wx.setBackgroundColor](https://developers.weixin.qq.com/miniprogram/dev/api/ui/background/wx.setBackgroundColor.html) 等接口调用的效果。

| 属性                    | 类型        | 默认值 | 必填 | 说明                                                                                                                                         | 最低版本 |
| ----------------------- | ----------- | ------ | ---- | -------------------------------------------------------------------------------------------------------------------------------------------- | -------- |
| background-text-style   | String      | -      | 否   | 下拉背景字体、loading 图的样式，仅支持 dark 和 light                                                                                         | 2.9.0    |
| background-color        | String      | -      | 否   | 窗口的背景色，必须为十六进制颜色值                                                                                                           | 2.9.0    |
| background-color-top    | String      | -      | 否   | 顶部窗口的背景色，必须为十六进制颜色值，仅 iOS 支持                                                                                          | 2.9.0    |
| background-color-bottom | String      | -      | 否   | 底部窗口的背景色，必须为十六进制颜色值，仅 iOS 支持                                                                                          | 2.9.0    |
| root-background-color   | String      | -      | 否   | 页面内容的背景色，用于页面中的空白部分和页面大小变化 resize 动画期间  的临时空闲区域                                                         | 2.12.1   |
| scroll-top              | String      | ""     | 否   | 滚动位置，可以使用 px 或者 rpx 为单位，在被设置时，页面会滚动到对应位置                                                                      | 2.9.0    |
| scroll-duration         | Number      | 300    | 否   | 滚动动画时长                                                                                                                                 | 2.9.0    |
| page-style              | String      | ""     | 否   | 页面根节点样式，页面根节点是所有页面节点的祖先节点，相当于 HTML 中的 body 节点                                                               | 2.9.0    |
| body-font-size          | String      | ""     | 否   | 页面 page 的字体大小，可以设置为 system ，表示使用当前用户设置的微信字体大小                                                                 | 2.11.0   |
| root-font-size          | String      | ""     | 否   | 页面的根字体大小，页面中的所有 rem 单位，将使用这个字体大小作为参考值，即 1rem 等于这个字体大小；自小程序版本 2.11.0 起，也可以设置为 system | 2.9.0    |
| page-orientation        | String      | ""     | 否   | 页面的方向，可为 auto portrait 或 landscape                                                                                                  | 2.12.0   |
| bindresize              | eventHandle | -      | 否   | 页面尺寸变化时会触发 resize 事件， event.detail = { size: { windowWidth, windowHeight } }                                                    | 2.9.0    |
| bindscroll              | eventHandle | -      | 否   | 页面滚动时会触发 scroll 事件， event.detail = { scrollTop }                                                                                  | 2.9.0    |
| bindscrolldone          | eventHandle | -      | 否   | 如果通过改变 scroll-top 属性来使页面滚动，页面滚动结束后会触发 scrollDone 事件                                                               | 2.9.0    |
